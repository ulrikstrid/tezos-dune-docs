<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Seed_repr (tezos-protocol-009-PsFLoren.Tezos_protocol_009_PsFLoren__Protocol.Seed_repr)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">tezos-protocol-009-PsFLoren</a> &#x00BB; <a href="../index.html">Tezos_protocol_009_PsFLoren__Protocol</a> &#x00BB; Seed_repr</nav><h1>Module <code>Tezos_protocol_009_PsFLoren__Protocol.Seed_repr</code></h1><nav class="toc"><ul><li><a href="#random-generation">Random Generation</a></li><li><a href="#predefined-seeds">Predefined seeds</a></li><li><a href="#entropy">Entropy</a></li><li><a href="#predefined-nonce">Predefined nonce</a></li><li><a href="#serializers">Serializers</a></li></ul></nav></header><aside><p>Tezos Protocol Implementation - Random number generation</p><p>This is not expected to be a good cryptographic random number generator. In particular this is supposed to be used in situations where the seed is a globally known information.</p><p>The only expected property is: It should be difficult to find a seed such that the generated sequence is a given one.</p></aside><section><header><h3 id="random-generation"><a href="#random-generation" class="anchor"></a>Random Generation</h3></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt><dd><p>The state of the random number generator</p></dd></dl><dl><dt class="spec type" id="type-seed"><a href="#type-seed" class="anchor"></a><code><span class="keyword">type</span> seed</code></dt><dd><p>A random seed, to derive random sequences from</p></dd></dl><dl><dt class="spec type" id="type-sequence"><a href="#type-sequence" class="anchor"></a><code><span class="keyword">type</span> sequence</code></dt><dd><p>A random sequence, to derive random values from</p></dd></dl><dl><dt class="spec value" id="val-initialize_new"><a href="#val-initialize_new" class="anchor"></a><code><span class="keyword">val</span> initialize_new : <a href="index.html#type-seed">seed</a> <span>&#45;&gt;</span> <span>bytes list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>initialize_new state ident</code> returns a new generator</p></dd></dl><dl><dt class="spec value" id="val-sequence"><a href="#val-sequence" class="anchor"></a><code><span class="keyword">val</span> sequence : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int32 <span>&#45;&gt;</span> <a href="index.html#type-sequence">sequence</a></code></dt><dd><p><code>sequence state n</code> prepares the n-th sequence of a state</p></dd></dl><dl><dt class="spec value" id="val-take"><a href="#val-take" class="anchor"></a><code><span class="keyword">val</span> take : <a href="index.html#type-sequence">sequence</a> <span>&#45;&gt;</span> bytes * <a href="index.html#type-sequence">sequence</a></code></dt><dd><p>Generates the next random value in the sequence</p></dd></dl><dl><dt class="spec value" id="val-take_int32"><a href="#val-take_int32" class="anchor"></a><code><span class="keyword">val</span> take_int32 : <a href="index.html#type-sequence">sequence</a> <span>&#45;&gt;</span> int32 <span>&#45;&gt;</span> int32 * <a href="index.html#type-sequence">sequence</a></code></dt><dd><p>Generates the next random value as a bounded <code>int32</code></p></dd></dl></section><section><header><h3 id="predefined-seeds"><a href="#predefined-seeds" class="anchor"></a>Predefined seeds</h3></header><dl><dt class="spec value" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span class="keyword">val</span> empty : <a href="index.html#type-seed">seed</a></code></dt><dt class="spec value" id="val-deterministic_seed"><a href="#val-deterministic_seed" class="anchor"></a><code><span class="keyword">val</span> deterministic_seed : <a href="index.html#type-seed">seed</a> <span>&#45;&gt;</span> <a href="index.html#type-seed">seed</a></code></dt><dd><p>Returns a new seed by hashing the one passed with a constant.</p></dd></dl><dl><dt class="spec value" id="val-initial_seeds"><a href="#val-initial_seeds" class="anchor"></a><code><span class="keyword">val</span> initial_seeds : int <span>&#45;&gt;</span> <span><a href="index.html#type-seed">seed</a> list</span></code></dt><dd><p><code>initial_seeds n</code> generates the first <code>n</code> seeds for which there are no nonces. The first seed is a constant value. The kth seed is the hash of seed (k-1) concatenated with a constant.</p></dd></dl></section><section><header><h3 id="entropy"><a href="#entropy" class="anchor"></a>Entropy</h3></header><dl><dt class="spec type" id="type-nonce"><a href="#type-nonce" class="anchor"></a><code><span class="keyword">type</span> nonce</code></dt><dd><p>A nonce for adding entropy to the generator</p></dd></dl><dl><dt class="spec value" id="val-nonce"><a href="#val-nonce" class="anchor"></a><code><span class="keyword">val</span> nonce : <a href="index.html#type-seed">seed</a> <span>&#45;&gt;</span> <a href="index.html#type-nonce">nonce</a> <span>&#45;&gt;</span> <a href="index.html#type-seed">seed</a></code></dt><dd><p>Add entropy to the seed generator</p></dd></dl><dl><dt class="spec value" id="val-make_nonce"><a href="#val-make_nonce" class="anchor"></a><code><span class="keyword">val</span> make_nonce : bytes <span>&#45;&gt;</span> <span><a href="index.html#type-nonce">nonce</a> <a href="../../Tezos_protocol_environment_009_PsFLoren__Environment/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_009_PsFLoren__Environment.Error_monad.tzresult</a></span></code></dt><dd><p>Use a byte sequence as a nonce</p></dd></dl><dl><dt class="spec value" id="val-hash"><a href="#val-hash" class="anchor"></a><code><span class="keyword">val</span> hash : <a href="index.html#type-nonce">nonce</a> <span>&#45;&gt;</span> <a href="../../Tezos_raw_protocol_009_PsFLoren/Nonce_hash/index.html#type-t">Tezos_raw_protocol_009_PsFLoren.Nonce_hash.t</a></code></dt><dd><p>Compute the has of a nonce</p></dd></dl><dl><dt class="spec value" id="val-check_hash"><a href="#val-check_hash" class="anchor"></a><code><span class="keyword">val</span> check_hash : <a href="index.html#type-nonce">nonce</a> <span>&#45;&gt;</span> <a href="../../Tezos_raw_protocol_009_PsFLoren/Nonce_hash/index.html#type-t">Tezos_raw_protocol_009_PsFLoren.Nonce_hash.t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>check_hash nonce hash</code> is true if the nonce correspond to the hash</p></dd></dl><dl><dt class="spec value" id="val-nonce_hash_key_part"><a href="#val-nonce_hash_key_part" class="anchor"></a><code><span class="keyword">val</span> nonce_hash_key_part : <a href="../../Tezos_raw_protocol_009_PsFLoren/Nonce_hash/index.html#type-t">Tezos_raw_protocol_009_PsFLoren.Nonce_hash.t</a> <span>&#45;&gt;</span> <span>string list</span> <span>&#45;&gt;</span> <span>string list</span></code></dt><dd><p>For using nonce hashes as keys in the hierarchical database</p></dd></dl></section><section><header><h3 id="predefined-nonce"><a href="#predefined-nonce" class="anchor"></a>Predefined nonce</h3></header><dl><dt class="spec value" id="val-initial_nonce_0"><a href="#val-initial_nonce_0" class="anchor"></a><code><span class="keyword">val</span> initial_nonce_0 : <a href="index.html#type-nonce">nonce</a></code></dt><dt class="spec value" id="val-initial_nonce_hash_0"><a href="#val-initial_nonce_hash_0" class="anchor"></a><code><span class="keyword">val</span> initial_nonce_hash_0 : <a href="../../Tezos_raw_protocol_009_PsFLoren/Nonce_hash/index.html#type-t">Tezos_raw_protocol_009_PsFLoren.Nonce_hash.t</a></code></dt></dl></section><section><header><h3 id="serializers"><a href="#serializers" class="anchor"></a>Serializers</h3></header><dl><dt class="spec value" id="val-nonce_encoding"><a href="#val-nonce_encoding" class="anchor"></a><code><span class="keyword">val</span> nonce_encoding : <span><a href="index.html#type-nonce">nonce</a> <a href="../../Tezos_protocol_environment_009_PsFLoren__Environment/Data_encoding/index.html#type-t">Tezos_protocol_environment_009_PsFLoren__Environment.Data_encoding.t</a></span></code></dt><dt class="spec value" id="val-seed_encoding"><a href="#val-seed_encoding" class="anchor"></a><code><span class="keyword">val</span> seed_encoding : <span><a href="index.html#type-seed">seed</a> <a href="../../Tezos_protocol_environment_009_PsFLoren__Environment/Data_encoding/index.html#type-t">Tezos_protocol_environment_009_PsFLoren__Environment.Data_encoding.t</a></span></code></dt></dl></section></div></body></html>