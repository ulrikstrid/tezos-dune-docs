<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Seq (tezos-lwt-result-stdlib.Bare_sigs.Seq)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">tezos-lwt-result-stdlib</a> &#x00BB; <a href="../index.html">Bare_sigs</a> &#x00BB; Seq</nav><h1>Module <code>Bare_sigs.Seq</code></h1><nav class="toc"><ul><li><a href="#seq">Seq</a><ul><li><a href="#special-consideration">Special consideration</a></li></ul></li></ul></nav></header><section><header><h2 id="seq"><a href="#seq" class="anchor"></a>Seq</h2><p>A replacement for <span class="xref-unresolved" title="unresolved reference to &quot;Stdlib.Seq&quot;"><code>Stdlib</code>.Seq</span> which</p><ul><li>is exception-safe,</li><li>includes Lwt-, result- and Lwt-result-aware traversal functions.</li></ul><p>See <code>Lwtreslib</code> for a general description of traversors and the meaning for the name suffixes. A full description is also below.</p><p>All traversal functions that are suffixed with <code>_e</code> are within the result monad. Note that these functions have a &quot;fail-early&quot; behaviour: the traversal is interrupted as soon as any of the intermediate application fails (i.e., returns an <code>Error _</code>).</p><p>All traversal functions that are suffixed with <code>_s</code> are within the Lwt monad. These functions traverse the elements sequentially: the promise for a given step of the traversal is only initiated when the promise for the previous step is resolved. Note that these functions have a fail-early behaviour: the traversal is interrupted if any of the intermediate promise is rejected.</p><p>All the traversal functions that are suffixed with <code>_p</code> are within Lwt. These functions traverse the elements concurrently: the promise for all the steps are created immediately. The suffix <code>_p</code> is chosen for similarity with the <code>Lwt_list</code> functions even though, as with <code>Lwt_list</code>'s functions there is no parallelism involved, only concurrency. Note that these functions have a “best-effort” behaviour: the whole-traversal promise (i.e., the promise returned by the <code>_p</code>-suffixed function) only resolves once each of the step promises have resolved. Even if one of the step promise is rejected, the whole-traversal promise is only rejected once all the other step promises have resolved.</p><p>All the traversal functions that are suffixed with <code>_es</code> are within the combined error-and-Lwt monad. These function traverse the elements sequentially with a fail-early behaviour for both rejection (as an Lwt promise) and failure (as a result).</p><p>All the traversal functions that are suffixed with <code>_ep</code> are within the combined error-and-Lwt monad. These function traverse the elements concurrently with a best-effort behaviour.</p></header><section><header><h3 id="special-consideration"><a href="#special-consideration" class="anchor"></a>Special consideration</h3><p>Because of the type of <span class="xref-unresolved" title="unresolved reference to &quot;Stdlib.Seq.t&quot;"><span class="xref-unresolved" title="unresolved reference to &quot;Stdlib.Seq&quot;"><code>Stdlib</code>.Seq</span>.t</span>, some interactions with Lwt are not possible. Specifically, note that the type includes the variant <code>unit -&gt; 'a node</code> which is not within Lwt nor within the result monad. As a result, some of the traversals (<code>map_s</code>, <code>map_e</code>, etc.) cannot be applied lazily.</p><p>Check-out the <code>S</code> variants (<a href="../Seq_s/module-type-S/index.html"><code>Seq_s.S</code></a>, <a href="../Seq_e/module-type-S/index.html"><code>Seq_e.S</code></a>, and <a href="../Seq_es/module-type-S/index.html"><code>Seq_es.S</code></a>) that integrate the base sequence type better with the monads' type. It is recommended that you use the variant as appropriate to your traversal. Note the presence of <code>of_seq</code> in each of those variants to convert from the standard <code>S.t</code>.</p></header><div class="spec module-type" id="module-type-S"><a href="#module-type-S" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-S/index.html">S</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section></section></div></body></html>