<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Tezt_tezos__Client (tezt-tezos.Tezt_tezos__Client)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">tezt-tezos</a> &#x00BB; Tezt_tezos__Client</nav><h1>Module <code>Tezt_tezos__Client</code></h1><p>Run Tezos client commands.</p><nav class="toc"><ul><li><a href="#rpc-calls">RPC calls</a></li><li><a href="#admin-client-commands">Admin Client Commands</a></li><li><a href="#regular-client-commands">Regular Client Commands</a></li><li><a href="#high-level-functions">High-Level Functions</a></li></ul></nav></header><dl><dt class="spec type" id="type-mode"><a href="#type-mode" class="anchor"></a><code><span class="keyword">type</span> mode</code><code> = </code><table class="variant"><tr id="type-mode.Client" class="anchored"><td class="def constructor"><a href="#type-mode.Client" class="anchor"></a><code>| </code><code><span class="constructor">Client</span> <span class="keyword">of</span> <span><a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a> option</span></code></td></tr><tr id="type-mode.Mockup" class="anchored"><td class="def constructor"><a href="#type-mode.Mockup" class="anchor"></a><code>| </code><code><span class="constructor">Mockup</span></code></td></tr><tr id="type-mode.Light" class="anchored"><td class="def constructor"><a href="#type-mode.Light" class="anchor"></a><code>| </code><code><span class="constructor">Light</span> <span class="keyword">of</span> float * <span><a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a> list</span></code></td></tr><tr id="type-mode.Proxy" class="anchored"><td class="def constructor"><a href="#type-mode.Proxy" class="anchor"></a><code>| </code><code><span class="constructor">Proxy</span> <span class="keyword">of</span> <a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a></code></td></tr></table></dt><dd><p>Mode of the client</p></dd></dl><dl><dt class="spec type" id="type-mockup_sync_mode"><a href="#type-mockup_sync_mode" class="anchor"></a><code><span class="keyword">type</span> mockup_sync_mode</code><code> = </code><table class="variant"><tr id="type-mockup_sync_mode.Asynchronous" class="anchored"><td class="def constructor"><a href="#type-mockup_sync_mode.Asynchronous" class="anchor"></a><code>| </code><code><span class="constructor">Asynchronous</span></code></td></tr><tr id="type-mockup_sync_mode.Synchronous" class="anchored"><td class="def constructor"><a href="#type-mockup_sync_mode.Synchronous" class="anchor"></a><code>| </code><code><span class="constructor">Synchronous</span></code></td></tr></table></dt><dd><p>The synchronization mode of the client.</p><ul><li><code>Asynchronous</code> mode is when transfer doesn't bake the block.</li><li><code>Synchronous</code> is the default mode (no flag passed to <code>create mockup</code>).</li></ul></dd></dl><dl><dt class="spec type" id="type-normalize_mode"><a href="#type-normalize_mode" class="anchor"></a><code><span class="keyword">type</span> normalize_mode</code><code> = </code><table class="variant"><tr id="type-normalize_mode.Readable" class="anchored"><td class="def constructor"><a href="#type-normalize_mode.Readable" class="anchor"></a><code>| </code><code><span class="constructor">Readable</span></code></td></tr><tr id="type-normalize_mode.Optimized" class="anchored"><td class="def constructor"><a href="#type-normalize_mode.Optimized" class="anchor"></a><code>| </code><code><span class="constructor">Optimized</span></code></td></tr><tr id="type-normalize_mode.Optimized_legacy" class="anchored"><td class="def constructor"><a href="#type-normalize_mode.Optimized_legacy" class="anchor"></a><code>| </code><code><span class="constructor">Optimized_legacy</span></code></td></tr></table></dt><dd><p>The mode argument of the client's 'normalize data' command</p></dd></dl><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt><dd><p>Tezos client states.</p></dd></dl><dl><dt class="spec value" id="val-base_dir"><a href="#val-base_dir" class="anchor"></a><code><span class="keyword">val</span> base_dir : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dd><p>Get the base directory of a client.</p><p>The base directory is the location where clients store their configuration files. It corresponds to the <code>--base-dir</code> option.</p></dd></dl><dl><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val</span> create : <span>?&#8288;path:string</span> <span>&#45;&gt;</span> <span>?&#8288;admin_path:string</span> <span>&#45;&gt;</span> <span>?&#8288;name:string</span> <span>&#45;&gt;</span> <span>?&#8288;color:<a href="../../tezt/Tezt/Log/Color/index.html#type-t">Tezt.Log.Color.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;base_dir:string</span> <span>&#45;&gt;</span> <span>?&#8288;node:<a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Create a client.</p><p>The standard output and standard error output of the node will be logged with prefix <code>name</code> and color <code>color</code>.</p><p>Default <code>base_dir</code> is a temporary directory which is always the same for each <code>name</code>.</p><p>The node argument is used to know which port the client should connect to. This node can be overridden for each command, as a client is not actually tied to a node. Most commands require a node to be specified (either with <code>create</code> or with the command itself).</p></dd></dl><dl><dt class="spec value" id="val-create_with_mode"><a href="#val-create_with_mode" class="anchor"></a><code><span class="keyword">val</span> create_with_mode : <span>?&#8288;path:string</span> <span>&#45;&gt;</span> <span>?&#8288;admin_path:string</span> <span>&#45;&gt;</span> <span>?&#8288;name:string</span> <span>&#45;&gt;</span> <span>?&#8288;color:<a href="../../tezt/Tezt/Log/Color/index.html#type-t">Tezt.Log.Color.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;base_dir:string</span> <span>&#45;&gt;</span> <a href="index.html#type-mode">mode</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Create a client like <code>create</code> but do not assume <code>Client</code> as the mode.</p></dd></dl><dl><dt class="spec value" id="val-get_mode"><a href="#val-get_mode" class="anchor"></a><code><span class="keyword">val</span> get_mode : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-mode">mode</a></code></dt><dd><p>Get a client's mode. Used with <code>set_mode</code> to temporarily change a client's mode</p></dd></dl><dl><dt class="spec value" id="val-set_mode"><a href="#val-set_mode" class="anchor"></a><code><span class="keyword">val</span> set_mode : <a href="index.html#type-mode">mode</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Change the client's mode. This function is required for example because we wanna keep a client's wallet. This is impossible if we created a new client from scratch.</p></dd></dl><section><header><h3 id="rpc-calls"><a href="#rpc-calls" class="anchor"></a>RPC calls</h3></header><dl><dt class="spec type" id="type-path"><a href="#type-path" class="anchor"></a><code><span class="keyword">type</span> path</code><code> = <span>string list</span></code></dt><dd><p>Paths for RPCs.</p><p>For instance, <code>[&quot;chains&quot;; &quot;main&quot;; &quot;blocks&quot;; &quot;head&quot;]</code> denotes <code>/chains/main/blocks/head</code>.</p></dd></dl><dl><dt class="spec type" id="type-query_string"><a href="#type-query_string" class="anchor"></a><code><span class="keyword">type</span> query_string</code><code> = <span><span>(string * string)</span> list</span></code></dt><dd><p>Query strings for RPCs.</p><p>For instance, <code>[&quot;key1&quot;, &quot;value1&quot;; &quot;key2&quot;, &quot;value2&quot;]</code> denotes <code>?key1=value1&amp;key2=value2</code>.</p></dd></dl><dl><dt class="spec type" id="type-meth"><a href="#type-meth" class="anchor"></a><code><span class="keyword">type</span> meth</code><code> = </code><table class="variant"><tr id="type-meth.GET" class="anchored"><td class="def constructor"><a href="#type-meth.GET" class="anchor"></a><code>| </code><code><span class="constructor">GET</span></code></td></tr><tr id="type-meth.PUT" class="anchored"><td class="def constructor"><a href="#type-meth.PUT" class="anchor"></a><code>| </code><code><span class="constructor">PUT</span></code></td></tr><tr id="type-meth.POST" class="anchored"><td class="def constructor"><a href="#type-meth.POST" class="anchor"></a><code>| </code><code><span class="constructor">POST</span></code></td></tr><tr id="type-meth.PATCH" class="anchored"><td class="def constructor"><a href="#type-meth.PATCH" class="anchor"></a><code>| </code><code><span class="constructor">PATCH</span></code></td></tr></table></dt><dd><p>HTTP methods for RPCs.</p></dd></dl><dl><dt class="spec value" id="val-rpc_path_query_to_string"><a href="#val-rpc_path_query_to_string" class="anchor"></a><code><span class="keyword">val</span> rpc_path_query_to_string : <span>?&#8288;query_string:<a href="index.html#type-query_string">query_string</a></span> <span>&#45;&gt;</span> <a href="index.html#type-path">path</a> <span>&#45;&gt;</span> string</code></dt><dd><p><code>rpc_path_query_to_string [&quot;key1&quot;, &quot;value1&quot;; &quot;key2&quot;, &quot;value2&quot;)] [&quot;seg1&quot;; &quot;seg2&quot;]</code> returns <code>/seg1/seg2?key1=value1&amp;key2=value2</code> where seg1, seg2, key1, key2, value1, and value2 have been appropriately encoded</p></dd></dl><dl><dt class="spec value" id="val-rpc"><a href="#val-rpc" class="anchor"></a><code><span class="keyword">val</span> rpc : <span>?&#8288;node:<a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;hooks:<a href="../../tezt/Tezt/Process/index.html#type-hooks">Tezt.Process.hooks</a></span> <span>&#45;&gt;</span> <span>?&#8288;env:<span>string <a href="../../tezt/Tezt__Base/index.html#module-String_map">Tezt.Base.String_map</a>.t</span></span> <span>&#45;&gt;</span> <span>?&#8288;data:<a href="../../tezt/Tezt/JSON/index.html#type-u">Tezt.JSON.u</a></span> <span>&#45;&gt;</span> <span>?&#8288;query_string:<a href="index.html#type-query_string">query_string</a></span> <span>&#45;&gt;</span> <a href="index.html#type-meth">meth</a> <span>&#45;&gt;</span> <a href="index.html#type-path">path</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="../../tezt/Tezt/JSON/index.html#type-t">Tezt.JSON.t</a> Lwt.t</span></code></dt><dd><p>Use the client to call an RPC.</p><p>Run <code>rpc meth path?query_string with data</code>. Fail the test if the RPC call failed. <code>env</code> can be used to customize environment variables, e.g. <code>(&quot;TEZOS_LOG&quot;, Protocol.daemon_name protocol ^ &quot;.proxy_rpc-&gt;debug&quot;)</code> to enable logging.</p></dd></dl><dl><dt class="spec value" id="val-spawn_rpc"><a href="#val-spawn_rpc" class="anchor"></a><code><span class="keyword">val</span> spawn_rpc : <span>?&#8288;node:<a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;hooks:<a href="../../tezt/Tezt/Process/index.html#type-hooks">Tezt.Process.hooks</a></span> <span>&#45;&gt;</span> <span>?&#8288;env:<span>string <a href="../../tezt/Tezt__Base/index.html#module-String_map">Tezt.Base.String_map</a>.t</span></span> <span>&#45;&gt;</span> <span>?&#8288;data:<a href="../../tezt/Tezt/JSON/index.html#type-u">Tezt.JSON.u</a></span> <span>&#45;&gt;</span> <span>?&#8288;query_string:<a href="index.html#type-query_string">query_string</a></span> <span>&#45;&gt;</span> <a href="index.html#type-meth">meth</a> <span>&#45;&gt;</span> <a href="index.html#type-path">path</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../tezt/Tezt/Process/index.html#type-t">Tezt.Process.t</a></code></dt><dd><p>Same as <code>rpc</code>, but do not wait for the process to exit.</p></dd></dl><dl><dt class="spec value" id="val-rpc_list"><a href="#val-rpc_list" class="anchor"></a><code><span class="keyword">val</span> rpc_list : <span>?&#8288;node:<a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>string Lwt.t</span></code></dt><dd><p>Run <code>tezos-client rpc list</code>.</p></dd></dl><dl><dt class="spec value" id="val-spawn_rpc_list"><a href="#val-spawn_rpc_list" class="anchor"></a><code><span class="keyword">val</span> spawn_rpc_list : <span>?&#8288;node:<a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../tezt/Tezt/Process/index.html#type-t">Tezt.Process.t</a></code></dt><dd><p>Same as <code>rpc_list</code>, but do not wait for the process to exit.</p></dd></dl><dl><dt class="spec value" id="val-shell_header"><a href="#val-shell_header" class="anchor"></a><code><span class="keyword">val</span> shell_header : <span>?&#8288;node:<a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;chain:string</span> <span>&#45;&gt;</span> <span>?&#8288;block:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>string Lwt.t</span></code></dt><dd><p>Run <code>tezos-client rpc /chains/&lt;chain&gt;/blocks/&lt;block&gt;/header/shell</code>.</p></dd></dl><dl><dt class="spec value" id="val-spawn_shell_header"><a href="#val-spawn_shell_header" class="anchor"></a><code><span class="keyword">val</span> spawn_shell_header : <span>?&#8288;node:<a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;chain:string</span> <span>&#45;&gt;</span> <span>?&#8288;block:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../tezt/Tezt/Process/index.html#type-t">Tezt.Process.t</a></code></dt><dd><p>Same as <code>shell_header</code>, but do not wait for the process to exit.</p></dd></dl></section><section><header><h3 id="admin-client-commands"><a href="#admin-client-commands" class="anchor"></a>Admin Client Commands</h3></header><div class="spec module" id="module-Admin"><a href="#module-Admin" class="anchor"></a><code><span class="keyword">module</span> <a href="Admin/index.html">Admin</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section><section><header><h3 id="regular-client-commands"><a href="#regular-client-commands" class="anchor"></a>Regular Client Commands</h3></header><dl><dt class="spec value" id="val-import_secret_key"><a href="#val-import_secret_key" class="anchor"></a><code><span class="keyword">val</span> import_secret_key : <span>?&#8288;node:<a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Tezt_tezos/Constant/index.html#type-key">Tezt_tezos.Constant.key</a> <span>&#45;&gt;</span> <span>unit Lwt.t</span></code></dt><dd><p>Run <code>tezos-client import secret key</code>.</p></dd></dl><dl><dt class="spec value" id="val-spawn_import_secret_key"><a href="#val-spawn_import_secret_key" class="anchor"></a><code><span class="keyword">val</span> spawn_import_secret_key : <span>?&#8288;node:<a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Tezt_tezos/Constant/index.html#type-key">Tezt_tezos.Constant.key</a> <span>&#45;&gt;</span> <a href="../../tezt/Tezt/Process/index.html#type-t">Tezt.Process.t</a></code></dt><dd><p>Same as <code>import_secret_key</code>, but do not wait for the process to exit.</p></dd></dl><dl><dt class="spec value" id="val-activate_protocol"><a href="#val-activate_protocol" class="anchor"></a><code><span class="keyword">val</span> activate_protocol : <span>?&#8288;node:<a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a></span> <span>&#45;&gt;</span> <span>protocol:<a href="../Tezt_tezos/Protocol/index.html#type-t">Tezt_tezos.Protocol.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;fitness:int</span> <span>&#45;&gt;</span> <span>?&#8288;key:string</span> <span>&#45;&gt;</span> <span>?&#8288;timestamp:string</span> <span>&#45;&gt;</span> <span>?&#8288;timestamp_delay:float</span> <span>&#45;&gt;</span> <span>?&#8288;parameter_file:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>unit Lwt.t</span></code></dt><dd><p>Run <code>tezos-client activate protocol</code>.</p><p>If <code>timestamp</code> is not specified explicitely, it is set to <code>now -. timestamp_delay</code>. Default value for <code>timestamp_delay</code> is 365 days, which allows to bake plenty of blocks before their timestamp reach the present (at which point one would have to wait between each block so that peers do not reject them for being in the future).</p></dd></dl><dl><dt class="spec value" id="val-spawn_activate_protocol"><a href="#val-spawn_activate_protocol" class="anchor"></a><code><span class="keyword">val</span> spawn_activate_protocol : <span>?&#8288;node:<a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a></span> <span>&#45;&gt;</span> <span>protocol:<a href="../Tezt_tezos/Protocol/index.html#type-t">Tezt_tezos.Protocol.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;fitness:int</span> <span>&#45;&gt;</span> <span>?&#8288;key:string</span> <span>&#45;&gt;</span> <span>?&#8288;timestamp:string</span> <span>&#45;&gt;</span> <span>?&#8288;timestamp_delay:float</span> <span>&#45;&gt;</span> <span>?&#8288;parameter_file:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../tezt/Tezt/Process/index.html#type-t">Tezt.Process.t</a></code></dt><dd><p>Same as <code>activate_protocol</code>, but do not wait for the process to exit.</p></dd></dl><dl><dt class="spec value" id="val-bake_for"><a href="#val-bake_for" class="anchor"></a><code><span class="keyword">val</span> bake_for : <span>?&#8288;node:<a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;protocol:<a href="../Tezt_tezos/Protocol/index.html#type-t">Tezt_tezos.Protocol.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;key:string</span> <span>&#45;&gt;</span> <span>?&#8288;minimal_timestamp:bool</span> <span>&#45;&gt;</span> <span>?&#8288;mempool:string</span> <span>&#45;&gt;</span> <span>?&#8288;force:bool</span> <span>&#45;&gt;</span> <span>?&#8288;context_path:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>unit Lwt.t</span></code></dt><dd><p>Run <code>tezos-client bake for</code>.</p><p>Default <code>key</code> is <span class="xref-unresolved" title="unresolved reference to &quot;Constant.bootstrap1.alias&quot;"><span class="xref-unresolved" title="unresolved reference to &quot;Constant.bootstrap1&quot;"><code>Constant</code>.bootstrap1</span>.alias</span>.</p></dd></dl><dl><dt class="spec value" id="val-spawn_bake_for"><a href="#val-spawn_bake_for" class="anchor"></a><code><span class="keyword">val</span> spawn_bake_for : <span>?&#8288;node:<a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;protocol:<a href="../Tezt_tezos/Protocol/index.html#type-t">Tezt_tezos.Protocol.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;key:string</span> <span>&#45;&gt;</span> <span>?&#8288;minimal_timestamp:bool</span> <span>&#45;&gt;</span> <span>?&#8288;mempool:string</span> <span>&#45;&gt;</span> <span>?&#8288;force:bool</span> <span>&#45;&gt;</span> <span>?&#8288;context_path:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../tezt/Tezt/Process/index.html#type-t">Tezt.Process.t</a></code></dt><dd><p>Same as <code>bake_for</code>, but do not wait for the process to exit.</p></dd></dl><dl><dt class="spec value" id="val-show_address"><a href="#val-show_address" class="anchor"></a><code><span class="keyword">val</span> show_address : <span>?&#8288;show_secret:bool</span> <span>&#45;&gt;</span> <span>alias:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="../Tezt_tezos/Account/index.html#type-key">Tezt_tezos.Account.key</a> Lwt.t</span></code></dt><dd><p>Run <code>tezos-client show address</code>.</p></dd></dl><dl><dt class="spec value" id="val-spawn_show_address"><a href="#val-spawn_show_address" class="anchor"></a><code><span class="keyword">val</span> spawn_show_address : <span>?&#8288;show_secret:bool</span> <span>&#45;&gt;</span> <span>alias:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../tezt/Tezt/Process/index.html#type-t">Tezt.Process.t</a></code></dt><dd><p>Same as <code>show_address</code>, but do not wait for the process to exit.</p></dd></dl><dl><dt class="spec value" id="val-gen_and_show_keys"><a href="#val-gen_and_show_keys" class="anchor"></a><code><span class="keyword">val</span> gen_and_show_keys : <span>alias:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="../Tezt_tezos/Account/index.html#type-key">Tezt_tezos.Account.key</a> Lwt.t</span></code></dt><dd><p>A helper to run <code>tezos-client gen keys</code> followed by <code>tezos-client show address</code> to get the generated key.</p></dd></dl><dl><dt class="spec value" id="val-endorse_for"><a href="#val-endorse_for" class="anchor"></a><code><span class="keyword">val</span> endorse_for : <span>?&#8288;node:<a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;key:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>unit Lwt.t</span></code></dt><dd><p>Run <code>tezos-client endorse for</code>.</p><p>Default <code>key</code> is <span class="xref-unresolved" title="unresolved reference to &quot;Constant.bootstrap2.alias&quot;"><span class="xref-unresolved" title="unresolved reference to &quot;Constant.bootstrap2&quot;"><code>Constant</code>.bootstrap2</span>.alias</span>.</p></dd></dl><dl><dt class="spec value" id="val-spawn_endorse_for"><a href="#val-spawn_endorse_for" class="anchor"></a><code><span class="keyword">val</span> spawn_endorse_for : <span>?&#8288;node:<a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;key:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../tezt/Tezt/Process/index.html#type-t">Tezt.Process.t</a></code></dt><dd><p>Same as <code>endorse_for</code>, but do not wait for the process to exit.</p></dd></dl><dl><dt class="spec value" id="val-transfer"><a href="#val-transfer" class="anchor"></a><code><span class="keyword">val</span> transfer : <span>?&#8288;node:<a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;wait:string</span> <span>&#45;&gt;</span> <span>?&#8288;burn_cap:<a href="../Tezt_tezos/Tez/index.html#type-t">Tezt_tezos.Tez.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;fee:<a href="../Tezt_tezos/Tez/index.html#type-t">Tezt_tezos.Tez.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;gas_limit:int</span> <span>&#45;&gt;</span> <span>?&#8288;storage_limit:int</span> <span>&#45;&gt;</span> <span>?&#8288;arg:string</span> <span>&#45;&gt;</span> <span>amount:<a href="../Tezt_tezos/Tez/index.html#type-t">Tezt_tezos.Tez.t</a></span> <span>&#45;&gt;</span> <span>giver:string</span> <span>&#45;&gt;</span> <span>receiver:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>unit Lwt.t</span></code></dt><dd><p>Run <code>tezos-client transfer amount from giver to receiver</code>.</p></dd></dl><dl><dt class="spec value" id="val-spawn_transfer"><a href="#val-spawn_transfer" class="anchor"></a><code><span class="keyword">val</span> spawn_transfer : <span>?&#8288;node:<a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;wait:string</span> <span>&#45;&gt;</span> <span>?&#8288;burn_cap:<a href="../Tezt_tezos/Tez/index.html#type-t">Tezt_tezos.Tez.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;fee:<a href="../Tezt_tezos/Tez/index.html#type-t">Tezt_tezos.Tez.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;gas_limit:int</span> <span>&#45;&gt;</span> <span>?&#8288;storage_limit:int</span> <span>&#45;&gt;</span> <span>?&#8288;arg:string</span> <span>&#45;&gt;</span> <span>amount:<a href="../Tezt_tezos/Tez/index.html#type-t">Tezt_tezos.Tez.t</a></span> <span>&#45;&gt;</span> <span>giver:string</span> <span>&#45;&gt;</span> <span>receiver:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../tezt/Tezt/Process/index.html#type-t">Tezt.Process.t</a></code></dt><dd><p>Same as <code>transfer</code>, but do not wait for the process to exit.</p></dd></dl><dl><dt class="spec value" id="val-set_delegate"><a href="#val-set_delegate" class="anchor"></a><code><span class="keyword">val</span> set_delegate : <span>?&#8288;node:<a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;wait:string</span> <span>&#45;&gt;</span> <span>src:string</span> <span>&#45;&gt;</span> <span>delegate:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>unit Lwt.t</span></code></dt><dd><p>Run <code>tezos-client set delegate for &lt;src&gt; to &lt;delegate&gt;</code>.</p></dd></dl><dl><dt class="spec value" id="val-spawn_set_delegate"><a href="#val-spawn_set_delegate" class="anchor"></a><code><span class="keyword">val</span> spawn_set_delegate : <span>?&#8288;node:<a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;wait:string</span> <span>&#45;&gt;</span> <span>src:string</span> <span>&#45;&gt;</span> <span>delegate:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../tezt/Tezt/Process/index.html#type-t">Tezt.Process.t</a></code></dt><dd><p>Same as <code>set_delegate</code>, but do not wait for the process to exit.</p></dd></dl><dl><dt class="spec value" id="val-withdraw_delegate"><a href="#val-withdraw_delegate" class="anchor"></a><code><span class="keyword">val</span> withdraw_delegate : <span>?&#8288;node:<a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;wait:string</span> <span>&#45;&gt;</span> <span>src:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>unit Lwt.t</span></code></dt><dd><p>Run <code>tezos-client withdraw delegate from &lt;src&gt;</code>.</p></dd></dl><dl><dt class="spec value" id="val-spawn_withdraw_delegate"><a href="#val-spawn_withdraw_delegate" class="anchor"></a><code><span class="keyword">val</span> spawn_withdraw_delegate : <span>?&#8288;node:<a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;wait:string</span> <span>&#45;&gt;</span> <span>src:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../tezt/Tezt/Process/index.html#type-t">Tezt.Process.t</a></code></dt><dd><p>Same as <code>withdraw_delegate</code>, but do not wait for the process to exit.</p></dd></dl><dl><dt class="spec value" id="val-get_balance_for"><a href="#val-get_balance_for" class="anchor"></a><code><span class="keyword">val</span> get_balance_for : <span>?&#8288;node:<a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a></span> <span>&#45;&gt;</span> <span>account:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>float Lwt.t</span></code></dt><dd><p>Run <code>tezos-client get balance for</code>.</p></dd></dl><dl><dt class="spec value" id="val-spawn_get_balance_for"><a href="#val-spawn_get_balance_for" class="anchor"></a><code><span class="keyword">val</span> spawn_get_balance_for : <span>?&#8288;node:<a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a></span> <span>&#45;&gt;</span> <span>account:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../tezt/Tezt/Process/index.html#type-t">Tezt.Process.t</a></code></dt><dd><p>Same as <code>get_balance_for</code>, but do not wait for the process to exit.</p></dd></dl><dl><dt class="spec value" id="val-create_mockup"><a href="#val-create_mockup" class="anchor"></a><code><span class="keyword">val</span> create_mockup : <span>?&#8288;sync_mode:<a href="index.html#type-mockup_sync_mode">mockup_sync_mode</a></span> <span>&#45;&gt;</span> <span>?&#8288;constants:<a href="../Tezt_tezos/Protocol/index.html#type-constants">Tezt_tezos.Protocol.constants</a></span> <span>&#45;&gt;</span> <span>protocol:<a href="../Tezt_tezos/Protocol/index.html#type-t">Tezt_tezos.Protocol.t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>unit Lwt.t</span></code></dt><dd><p>Run <code>tezos-client create mockup</code>.</p></dd></dl><dl><dt class="spec value" id="val-spawn_create_mockup"><a href="#val-spawn_create_mockup" class="anchor"></a><code><span class="keyword">val</span> spawn_create_mockup : <span>?&#8288;sync_mode:<a href="index.html#type-mockup_sync_mode">mockup_sync_mode</a></span> <span>&#45;&gt;</span> <span>?&#8288;constants:<a href="../Tezt_tezos/Protocol/index.html#type-constants">Tezt_tezos.Protocol.constants</a></span> <span>&#45;&gt;</span> <span>protocol:<a href="../Tezt_tezos/Protocol/index.html#type-t">Tezt_tezos.Protocol.t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../tezt/Tezt/Process/index.html#type-t">Tezt.Process.t</a></code></dt><dd><p>Same as <code>create_mockup</code>, but do not wait for the process to exit.</p></dd></dl><dl><dt class="spec value" id="val-submit_proposals"><a href="#val-submit_proposals" class="anchor"></a><code><span class="keyword">val</span> submit_proposals : <span>?&#8288;key:string</span> <span>&#45;&gt;</span> <span>?&#8288;wait:string</span> <span>&#45;&gt;</span> <span>proto_hash:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>unit Lwt.t</span></code></dt><dd><p>Run <code>tezos-client submit proposals for</code>.</p><p>Default <code>key</code> is <span class="xref-unresolved" title="unresolved reference to &quot;Constant.bootstrap1.alias&quot;"><span class="xref-unresolved" title="unresolved reference to &quot;Constant.bootstrap1&quot;"><code>Constant</code>.bootstrap1</span>.alias</span>.</p></dd></dl><dl><dt class="spec value" id="val-spawn_submit_proposals"><a href="#val-spawn_submit_proposals" class="anchor"></a><code><span class="keyword">val</span> spawn_submit_proposals : <span>?&#8288;key:string</span> <span>&#45;&gt;</span> <span>?&#8288;wait:string</span> <span>&#45;&gt;</span> <span>proto_hash:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../tezt/Tezt/Process/index.html#type-t">Tezt.Process.t</a></code></dt><dd><p>Same as <code>submit_proposals</code>, but do not wait for the process to exit.</p></dd></dl><dl><dt class="spec type" id="type-ballot"><a href="#type-ballot" class="anchor"></a><code><span class="keyword">type</span> ballot</code><code> = </code><table class="variant"><tr id="type-ballot.Nay" class="anchored"><td class="def constructor"><a href="#type-ballot.Nay" class="anchor"></a><code>| </code><code><span class="constructor">Nay</span></code></td></tr><tr id="type-ballot.Pass" class="anchored"><td class="def constructor"><a href="#type-ballot.Pass" class="anchor"></a><code>| </code><code><span class="constructor">Pass</span></code></td></tr><tr id="type-ballot.Yay" class="anchored"><td class="def constructor"><a href="#type-ballot.Yay" class="anchor"></a><code>| </code><code><span class="constructor">Yay</span></code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-submit_ballot"><a href="#val-submit_ballot" class="anchor"></a><code><span class="keyword">val</span> submit_ballot : <span>?&#8288;key:string</span> <span>&#45;&gt;</span> <span>?&#8288;wait:string</span> <span>&#45;&gt;</span> <span>proto_hash:string</span> <span>&#45;&gt;</span> <a href="index.html#type-ballot">ballot</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>unit Lwt.t</span></code></dt><dd><p>Run <code>tezos-client submit ballot for</code>.</p><p>Default <code>key</code> is <span class="xref-unresolved" title="unresolved reference to &quot;Constant.bootstrap1.alias&quot;"><span class="xref-unresolved" title="unresolved reference to &quot;Constant.bootstrap1&quot;"><code>Constant</code>.bootstrap1</span>.alias</span>.</p></dd></dl><dl><dt class="spec value" id="val-spawn_submit_ballot"><a href="#val-spawn_submit_ballot" class="anchor"></a><code><span class="keyword">val</span> spawn_submit_ballot : <span>?&#8288;key:string</span> <span>&#45;&gt;</span> <span>?&#8288;wait:string</span> <span>&#45;&gt;</span> <span>proto_hash:string</span> <span>&#45;&gt;</span> <a href="index.html#type-ballot">ballot</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../tezt/Tezt/Process/index.html#type-t">Tezt.Process.t</a></code></dt><dd><p>Same as <code>submit_ballot</code>, but do not wait for the process to exit.</p></dd></dl><dl><dt class="spec value" id="val-originate_contract"><a href="#val-originate_contract" class="anchor"></a><code><span class="keyword">val</span> originate_contract : <span>?&#8288;node:<a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;wait:string</span> <span>&#45;&gt;</span> <span>?&#8288;init:string</span> <span>&#45;&gt;</span> <span>?&#8288;burn_cap:<a href="../Tezt_tezos/Tez/index.html#type-t">Tezt_tezos.Tez.t</a></span> <span>&#45;&gt;</span> <span>alias:string</span> <span>&#45;&gt;</span> <span>amount:<a href="../Tezt_tezos/Tez/index.html#type-t">Tezt_tezos.Tez.t</a></span> <span>&#45;&gt;</span> <span>src:string</span> <span>&#45;&gt;</span> <span>prg:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>string Lwt.t</span></code></dt><dd><p>Run <code>tezos-client originate contract alias transferring amount from src
    running prg</code>. Returns the originated contract hash</p></dd></dl><dl><dt class="spec value" id="val-spawn_originate_contract"><a href="#val-spawn_originate_contract" class="anchor"></a><code><span class="keyword">val</span> spawn_originate_contract : <span>?&#8288;node:<a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;wait:string</span> <span>&#45;&gt;</span> <span>?&#8288;init:string</span> <span>&#45;&gt;</span> <span>?&#8288;burn_cap:<a href="../Tezt_tezos/Tez/index.html#type-t">Tezt_tezos.Tez.t</a></span> <span>&#45;&gt;</span> <span>alias:string</span> <span>&#45;&gt;</span> <span>amount:<a href="../Tezt_tezos/Tez/index.html#type-t">Tezt_tezos.Tez.t</a></span> <span>&#45;&gt;</span> <span>src:string</span> <span>&#45;&gt;</span> <span>prg:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../tezt/Tezt/Process/index.html#type-t">Tezt.Process.t</a></code></dt><dd><p>Same as <code>originate_contract</code>, but do not wait for the process to exit.</p></dd></dl><dl><dt class="spec value" id="val-hash_data"><a href="#val-hash_data" class="anchor"></a><code><span class="keyword">val</span> hash_data : <span>?&#8288;expect_failure:bool</span> <span>&#45;&gt;</span> <span>?&#8288;hooks:<a href="../../tezt/Tezt/Process/index.html#type-hooks">Tezt.Process.hooks</a></span> <span>&#45;&gt;</span> <span>data:string</span> <span>&#45;&gt;</span> <span>typ:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><span><span>(string * string)</span> list</span> Lwt.t</span></code></dt><dd><p>Run <code>tezos-client hash data .. of type ...</code></p><p>Given that the output of <code>tezos-client</code> is:</p><p><code>Raw packed data: 0x050303
     Script-expression-ID-Hash: exprvDnoPjyKeR9FSnvwYg5a1v6mDyB6TmnATwWySSP6VmJxrzQb9E
     Raw Script-expression-ID-Hash: 0xe0978ddc9329cbd84d25fd15a161a7d2e7e555da91e2a335ece8c8bc11ade245
     Ledger Blake2b hash: G7iMrYNckCFRujDLFgtj3cDMCnfeSQ2cmhnDtkh9REc4
     Raw Sha256 hash: 0x35ef99f7718e7d1f065bae635780f41c0cd201e9ffb3390ba6ef428c2815fa66
     Raw Sha512 hash: 0x2c9ca967bf47f6cc76861693379b7397f65e6a1b6e633df28cf02be0b0d18319ae783b4c199fd61115e000a15a5ba8a292a3b1468c2cfe2b3e3a9fa08d419698
     Gas remaining: 1039991.350 units remaining</code></p><p>this function returns the list:</p><p><code>(&quot;Raw packed data&quot;; &quot;0x050303&quot;)
     (&quot;Script-expression-ID-Hash&quot;; &quot;exprvDnoPjyKeR9FSnvwYg5a1v6mDyB6TmnATwWySSP6VmJxrzQb9E&quot;)
     (&quot;Raw Script-expression-ID-Hash&quot;; &quot;0xe0978ddc9329cbd84d25fd15a161a7d2e7e555da91e2a335ece8c8bc11ade245&quot;)
     (&quot;Ledger Blake2b hash&quot;; &quot;G7iMrYNckCFRujDLFgtj3cDMCnfeSQ2cmhnDtkh9REc4&quot;)
     (&quot;Raw Sha256 hash&quot;; &quot;0x35ef99f7718e7d1f065bae635780f41c0cd201e9ffb3390ba6ef428c2815fa66&quot;)
     (&quot;Raw Sha512 hash&quot;; &quot;0x2c9ca967bf47f6cc76861693379b7397f65e6a1b6e633df28cf02be0b0d18319ae783b4c199fd61115e000a15a5ba8a292a3b1468c2cfe2b3e3a9fa08d419698&quot;)
     (&quot;Gas remaining&quot;; &quot;1039991.350 units remaining&quot;)</code></p><p>If some lines cannot be parsed, warnings are emitted in output and the corresponding lines are omitted from the result.</p></dd></dl><dl><dt class="spec value" id="val-spawn_hash_data"><a href="#val-spawn_hash_data" class="anchor"></a><code><span class="keyword">val</span> spawn_hash_data : <span>?&#8288;hooks:<a href="../../tezt/Tezt/Process/index.html#type-hooks">Tezt.Process.hooks</a></span> <span>&#45;&gt;</span> <span>data:string</span> <span>&#45;&gt;</span> <span>typ:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../tezt/Tezt/Process/index.html#type-t">Tezt.Process.t</a></code></dt><dd><p>Same as <code>hash_data</code>, but do not wait for the process to exit.</p></dd></dl><dl><dt class="spec value" id="val-normalize_data"><a href="#val-normalize_data" class="anchor"></a><code><span class="keyword">val</span> normalize_data : <span>?&#8288;mode:<a href="index.html#type-normalize_mode">normalize_mode</a></span> <span>&#45;&gt;</span> <span>?&#8288;legacy:bool</span> <span>&#45;&gt;</span> <span>data:string</span> <span>&#45;&gt;</span> <span>typ:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>string Lwt.t</span></code></dt><dd><p>Run <code>tezos-client normalize data .. of type ...</code></p></dd></dl><dl><dt class="spec value" id="val-spawn_normalize_data"><a href="#val-spawn_normalize_data" class="anchor"></a><code><span class="keyword">val</span> spawn_normalize_data : <span>?&#8288;mode:<a href="index.html#type-normalize_mode">normalize_mode</a></span> <span>&#45;&gt;</span> <span>?&#8288;legacy:bool</span> <span>&#45;&gt;</span> <span>data:string</span> <span>&#45;&gt;</span> <span>typ:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../tezt/Tezt/Process/index.html#type-t">Tezt.Process.t</a></code></dt><dd><p>Same as <code>normalize_data</code>, but do not wait for the process to exit.</p></dd></dl><dl><dt class="spec value" id="val-list_mockup_protocols"><a href="#val-list_mockup_protocols" class="anchor"></a><code><span class="keyword">val</span> list_mockup_protocols : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><span>string list</span> Lwt.t</span></code></dt><dd><p>Run <code>tezos-client list mockup protocols</code>.</p></dd></dl><dl><dt class="spec value" id="val-spawn_list_mockup_protocols"><a href="#val-spawn_list_mockup_protocols" class="anchor"></a><code><span class="keyword">val</span> spawn_list_mockup_protocols : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../tezt/Tezt/Process/index.html#type-t">Tezt.Process.t</a></code></dt><dd><p>Same as <code>list_mockup_protocols</code>, but do not wait for the process to exit and do not process stdout.</p></dd></dl><dl><dt class="spec value" id="val-migrate_mockup"><a href="#val-migrate_mockup" class="anchor"></a><code><span class="keyword">val</span> migrate_mockup : <span>next_protocol:<a href="../Tezt_tezos/Protocol/index.html#type-t">Tezt_tezos.Protocol.t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>unit Lwt.t</span></code></dt><dd><p>Run <code>tezos-client migrate mockup to</code>.</p></dd></dl><dl><dt class="spec value" id="val-spawn_migrate_mockup"><a href="#val-spawn_migrate_mockup" class="anchor"></a><code><span class="keyword">val</span> spawn_migrate_mockup : <span>next_protocol:<a href="../Tezt_tezos/Protocol/index.html#type-t">Tezt_tezos.Protocol.t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../tezt/Tezt/Process/index.html#type-t">Tezt.Process.t</a></code></dt><dd><p>Same as <code>migrate_mockup</code>, but do not wait for the process to exit.</p></dd></dl></section><section><header><h3 id="high-level-functions"><a href="#high-level-functions" class="anchor"></a>High-Level Functions</h3></header><dl><dt class="spec value" id="val-init"><a href="#val-init" class="anchor"></a><code><span class="keyword">val</span> init : <span>?&#8288;path:string</span> <span>&#45;&gt;</span> <span>?&#8288;admin_path:string</span> <span>&#45;&gt;</span> <span>?&#8288;name:string</span> <span>&#45;&gt;</span> <span>?&#8288;color:<a href="../../tezt/Tezt/Log/Color/index.html#type-t">Tezt.Log.Color.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;base_dir:string</span> <span>&#45;&gt;</span> <span>?&#8288;node:<a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> Lwt.t</span></code></dt><dd><p>Create a client with mode <code>Client</code> and import all secret keys listed in <span class="xref-unresolved" title="unresolved reference to &quot;Constant.all_secret_keys&quot;"><code>Constant</code>.all_secret_keys</span>.</p></dd></dl><dl><dt class="spec value" id="val-init_mockup"><a href="#val-init_mockup" class="anchor"></a><code><span class="keyword">val</span> init_mockup : <span>?&#8288;path:string</span> <span>&#45;&gt;</span> <span>?&#8288;admin_path:string</span> <span>&#45;&gt;</span> <span>?&#8288;name:string</span> <span>&#45;&gt;</span> <span>?&#8288;color:<a href="../../tezt/Tezt/Log/Color/index.html#type-t">Tezt.Log.Color.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;base_dir:string</span> <span>&#45;&gt;</span> <span>?&#8288;sync_mode:<a href="index.html#type-mockup_sync_mode">mockup_sync_mode</a></span> <span>&#45;&gt;</span> <span>?&#8288;constants:<a href="../Tezt_tezos/Protocol/index.html#type-constants">Tezt_tezos.Protocol.constants</a></span> <span>&#45;&gt;</span> <span>protocol:<a href="../Tezt_tezos/Protocol/index.html#type-t">Tezt_tezos.Protocol.t</a></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> Lwt.t</span></code></dt><dd><p>Create a client with mode <code>Mockup</code> and run <code>create mockup</code>.</p><p>Contrary to <code>init</code>, this does not import any secret key, because <code>tezos-client create mockup</code> already initializes the mockup with bootstrap keys.</p></dd></dl><dl><dt class="spec value" id="val-init_light"><a href="#val-init_light" class="anchor"></a><code><span class="keyword">val</span> init_light : <span>?&#8288;path:string</span> <span>&#45;&gt;</span> <span>?&#8288;admin_path:string</span> <span>&#45;&gt;</span> <span>?&#8288;name:string</span> <span>&#45;&gt;</span> <span>?&#8288;color:<a href="../../tezt/Tezt/Log/Color/index.html#type-t">Tezt.Log.Color.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;base_dir:string</span> <span>&#45;&gt;</span> <span>?&#8288;nodes:<span><a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a> list</span></span> <span>&#45;&gt;</span> <span>?&#8288;min_agreement:float</span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <span><span>(<a href="index.html#type-t">t</a> * <span><a href="../Tezt_tezos/Node/index.html#type-t">Tezt_tezos.Node.t</a> list</span>)</span> Lwt.t</span></code></dt><dd><p>Create a client with mode <code>Light</code>. In addition to the client, the list of nodes is returned, as it was potentially created by this call; and the light mode needs tight interaction with the nodes.</p></dd></dl></section></div></body></html>