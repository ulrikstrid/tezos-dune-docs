<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Make_with_hash_consing (tezos-micheline-rewriting.Tezos_micheline_rewriting__Pattern.Make_with_hash_consing)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">tezos-micheline-rewriting</a> &#x00BB; <a href="../index.html">Tezos_micheline_rewriting__Pattern</a> &#x00BB; Make_with_hash_consing</nav><h1>Module <code>Tezos_micheline_rewriting__Pattern.Make_with_hash_consing</code></h1></header><h3 class="heading">Parameters</h3><ul><li><code><a href="argument-1-X/index.html">X</a> : <a href="../../Tezos_micheline_rewriting/Signature/index.html#module-type-S">Tezos_micheline_rewriting.Signature.S</a></code></li><li><code><a href="argument-2-Micheline/index.html">Micheline</a> : <a href="../../Tezos_micheline_rewriting/Micheline_sig/index.html#module-type-S">Tezos_micheline_rewriting.Micheline_sig.S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="argument-2-Micheline/index.html#type-head">head</a> = <a href="argument-1-X/index.html#type-t">X.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="argument-2-Micheline/index.html#type-label">label</a> = <a href="../../Tezos_micheline_rewriting/Micheline_with_hash_consing/index.html#type-hcons_info">Tezos_micheline_rewriting.Micheline_with_hash_consing.hcons_info</a></code></li><li><code><a href="argument-3-Path/index.html">Path</a> : <a href="../../Tezos_micheline_rewriting/Path/index.html#module-type-S">Tezos_micheline_rewriting.Path.S</a></code></li></ul><h3 class="heading">Signature</h3><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <a href="../index.html#module-type-S">S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../module-type-S/index.html#type-head">head</a> = <a href="argument-1-X/index.html#type-t">X.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../module-type-S/index.html#type-path">path</a> = <a href="argument-3-Path/index.html#type-t">Path.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../module-type-S/index.html#type-node">node</a> = <a href="argument-2-Micheline/index.html#type-node">Micheline.node</a></code></span></summary><dl><dt class="spec type" id="type-head"><a href="#type-head" class="anchor"></a><code><span class="keyword">type</span> head</code><code> = <a href="argument-1-X/index.html#type-t">X.t</a></code></dt><dd><p>The type of primitives.</p></dd></dl><dl><dt class="spec type" id="type-path"><a href="#type-path" class="anchor"></a><code><span class="keyword">type</span> path</code><code> = <a href="argument-3-Path/index.html#type-t">Path.t</a></code></dt><dd><p>The type of paths.</p></dd></dl><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt><dd><p>The type of patterns.</p></dd></dl><dl><dt class="spec type" id="type-plist"><a href="#type-plist" class="anchor"></a><code><span class="keyword">type</span> plist</code></dt><dd><p>The type of a pattern on a list of terms.</p></dd></dl><dl><dt class="spec type" id="type-node"><a href="#type-node" class="anchor"></a><code><span class="keyword">type</span> node</code><code> = <a href="argument-2-Micheline/index.html#type-node">Micheline.node</a></code></dt><dd><p>Micheline nodes.</p></dd></dl><dl><dt class="spec value" id="val-pattern_matches"><a href="#val-pattern_matches" class="anchor"></a><code><span class="keyword">val</span> pattern_matches : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-node">node</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Returns true iff a pattern matches a node.</p></dd></dl><dl><dt class="spec value" id="val-all_matches"><a href="#val-all_matches" class="anchor"></a><code><span class="keyword">val</span> all_matches : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-node">node</a> <span>&#45;&gt;</span> <span><a href="index.html#type-path">path</a> list</span></code></dt><dd><p>Returns all matches of a pattern in a node.</p></dd></dl><dl><dt class="spec value" id="val-focus_matches"><a href="#val-focus_matches" class="anchor"></a><code><span class="keyword">val</span> focus_matches : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="index.html#type-path">path</a> list</span> <span>&#45;&gt;</span> <span><a href="index.html#type-path">path</a> list</span></code></dt><dd><p><code>focus_matches patt matches</code> converts a list of matches for a contextual pattern <code>patt</code> into the list of matches for the focused sub-pattern. Returns the empty list if there is no focused subpattern.</p></dd></dl><dl><dt class="spec value" id="val-int"><a href="#val-int" class="anchor"></a><code><span class="keyword">val</span> int : <span><span>(Z.t <span>&#45;&gt;</span> bool)</span> option</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Matches an integer, with an optional predicate.</p></dd></dl><dl><dt class="spec value" id="val-string"><a href="#val-string" class="anchor"></a><code><span class="keyword">val</span> string : <span><span>(string <span>&#45;&gt;</span> bool)</span> option</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Matches a string, with an optional predicate.</p></dd></dl><dl><dt class="spec value" id="val-bytes"><a href="#val-bytes" class="anchor"></a><code><span class="keyword">val</span> bytes : <span><span>(Stdlib.Bytes.t <span>&#45;&gt;</span> bool)</span> option</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Matches a bytes, with an optional predicate.</p></dd></dl><dl><dt class="spec value" id="val-prim"><a href="#val-prim" class="anchor"></a><code><span class="keyword">val</span> prim : <a href="index.html#type-head">head</a> <span>&#45;&gt;</span> <a href="index.html#type-plist">plist</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>prim hd subpatts</code> constructs a pattern matching a primitive application with primitive equal to head and the specified subterms pattern <code>subpatts</code>.</p></dd></dl><dl><dt class="spec value" id="val-prim_pred"><a href="#val-prim_pred" class="anchor"></a><code><span class="keyword">val</span> prim_pred : <span>(<a href="index.html#type-head">head</a> <span>&#45;&gt;</span> bool)</span> <span>&#45;&gt;</span> <a href="index.html#type-plist">plist</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>More general version of <code>prim</code> where an arbitrary predicate on primitives can be used.</p></dd></dl><dl><dt class="spec value" id="val-seq"><a href="#val-seq" class="anchor"></a><code><span class="keyword">val</span> seq : <a href="index.html#type-plist">plist</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Matches a <code>seq</code> node with a specified subterms pattern.</p></dd></dl><dl><dt class="spec value" id="val-any"><a href="#val-any" class="anchor"></a><code><span class="keyword">val</span> any : <a href="index.html#type-t">t</a></code></dt><dd><p>Matches anything.</p></dd></dl><dl><dt class="spec value" id="val-focus"><a href="#val-focus" class="anchor"></a><code><span class="keyword">val</span> focus : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Flags a pattern as being a focus of the pattern. There can be several foci per pattern but they cannot be nested (an error is raised in this case).</p></dd></dl><dl><dt class="spec value" id="val-list_any"><a href="#val-list_any" class="anchor"></a><code><span class="keyword">val</span> list_any : <a href="index.html#type-plist">plist</a></code></dt><dd><p>Matches any list of patterns.</p></dd></dl><dl><dt class="spec value" id="val-list_empty"><a href="#val-list_empty" class="anchor"></a><code><span class="keyword">val</span> list_empty : <a href="index.html#type-plist">plist</a></code></dt><dd><p>Matches the empty list of pattern.</p></dd></dl><dl><dt class="spec value" id="val-list_cons"><a href="#val-list_cons" class="anchor"></a><code><span class="keyword">val</span> list_cons : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-plist">plist</a> <span>&#45;&gt;</span> <a href="index.html#type-plist">plist</a></code></dt><dd><p>Matches a nonempty list of pattern.</p></dd></dl><dl><dt class="spec value" id="val-(@.)"><a href="#val-(@.)" class="anchor"></a><code><span class="keyword">val</span> (@.) : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-plist">plist</a> <span>&#45;&gt;</span> <a href="index.html#type-plist">plist</a></code></dt><dd><p>Alias for <code>list_cons</code></p></dd></dl><dl><dt class="spec value" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span class="keyword">val</span> pp : Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Pretty-printing.</p></dd></dl><dl><dt class="spec value" id="val-uid"><a href="#val-uid" class="anchor"></a><code><span class="keyword">val</span> uid : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Returns a unique id for patterns. Two patterns with the same uid are physically equal, but not necessarily the other way around (except in hash-consing mode).</p></dd></dl></details></div></div></div><dl><dt class="spec value" id="val-all_matches_with_hash_consing"><a href="#val-all_matches_with_hash_consing" class="anchor"></a><code><span class="keyword">val</span> all_matches_with_hash_consing : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-node">node</a> <span>&#45;&gt;</span> <span><a href="index.html#type-path">path</a> list</span></code></dt></dl></div></body></html>