<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Contract (tezos-protocol-004-Pt24m4xi.Tezos_raw_protocol_004_Pt24m4xi.Storage.Contract)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../../index.html">tezos-protocol-004-Pt24m4xi</a> &#x00BB; <a href="../../index.html">Tezos_raw_protocol_004_Pt24m4xi</a> &#x00BB; <a href="../index.html">Storage</a> &#x00BB; Contract</nav><h1>Module <code>Storage.Contract</code></h1></header><aside><p>Storage from this submodule must only be accessed through the module `Contract`.</p></aside><div class="spec module" id="module-Global_counter"><a href="#module-Global_counter" class="anchor"></a><code><span class="keyword">module</span> <a href="Global_counter/index.html">Global_counter</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-fold"><a href="#val-fold" class="anchor"></a><code><span class="keyword">val</span> fold : <a href="../../Raw_context/index.html#type-t">Raw_context.t</a> <span>&#45;&gt;</span> <span>init:<span class="type-var">'a</span></span> <span>&#45;&gt;</span> <span>f:<span>(<a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../../../Tezos_protocol_environment_004_Pt24m4xi__Environment/Lwt/index.html#type-t">Tezos_protocol_environment_004_Pt24m4xi__Environment.Lwt.t</a></span>)</span></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../../../Tezos_protocol_environment_004_Pt24m4xi__Environment/Lwt/index.html#type-t">Tezos_protocol_environment_004_Pt24m4xi__Environment.Lwt.t</a></span></code></dt><dd><p>The domain of alive contracts</p></dd></dl><dl><dt class="spec value" id="val-list"><a href="#val-list" class="anchor"></a><code><span class="keyword">val</span> list : <a href="../../Raw_context/index.html#type-t">Raw_context.t</a> <span>&#45;&gt;</span> <span><span><a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a> list</span> <a href="../../../Tezos_protocol_environment_004_Pt24m4xi__Environment/Lwt/index.html#type-t">Tezos_protocol_environment_004_Pt24m4xi__Environment.Lwt.t</a></span></code></dt></dl><dl><dt class="spec module" id="module-Balance"><a href="#module-Balance" class="anchor"></a><code><span class="keyword">module</span> <a href="Balance/index.html">Balance</a> : <a href="../../Storage_sigs/index.html#module-type-Indexed_data_storage">Storage_sigs.Indexed_data_storage</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-key">key</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-value">value</a> = <a href="../../Tez_repr/index.html#type-t">Tez_repr.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></code></dt><dd><p>All the tez possesed by a contract, including rolls and change</p></dd></dl><dl><dt class="spec module" id="module-Frozen_deposits"><a href="#module-Frozen_deposits" class="anchor"></a><code><span class="keyword">module</span> <a href="Frozen_deposits/index.html">Frozen_deposits</a> : <a href="../../Storage_sigs/index.html#module-type-Indexed_data_storage">Storage_sigs.Indexed_data_storage</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-key">key</a> = <a href="../../Cycle_repr/index.html#type-t">Cycle_repr.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-value">value</a> = <a href="../../Tez_repr/index.html#type-t">Tez_repr.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-t">t</a> = <a href="../../Raw_context/index.html#type-t">Raw_context.t</a> * <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a></code></dt><dd><p>Frozen balance, see 'delegate_storage.mli' for more explanation. Always update `Delegates_with_frozen_balance` accordingly.</p></dd></dl><div class="spec module" id="module-Frozen_fees"><a href="#module-Frozen_fees" class="anchor"></a><code><span class="keyword">module</span> <a href="Frozen_fees/index.html">Frozen_fees</a> : <a href="../../Storage_sigs/index.html#module-type-Indexed_data_storage">Storage_sigs.Indexed_data_storage</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-key">key</a> = <a href="../../Cycle_repr/index.html#type-t">Cycle_repr.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-value">value</a> = <a href="../../Tez_repr/index.html#type-t">Tez_repr.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-t">t</a> = <a href="../../Raw_context/index.html#type-t">Raw_context.t</a> * <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a></code></div><div class="spec module" id="module-Frozen_rewards"><a href="#module-Frozen_rewards" class="anchor"></a><code><span class="keyword">module</span> <a href="Frozen_rewards/index.html">Frozen_rewards</a> : <a href="../../Storage_sigs/index.html#module-type-Indexed_data_storage">Storage_sigs.Indexed_data_storage</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-key">key</a> = <a href="../../Cycle_repr/index.html#type-t">Cycle_repr.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-value">value</a> = <a href="../../Tez_repr/index.html#type-t">Tez_repr.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-t">t</a> = <a href="../../Raw_context/index.html#type-t">Raw_context.t</a> * <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a></code></div><dl><dt class="spec module" id="module-Manager"><a href="#module-Manager" class="anchor"></a><code><span class="keyword">module</span> <a href="Manager/index.html">Manager</a> : <a href="../../Storage_sigs/index.html#module-type-Indexed_data_storage">Storage_sigs.Indexed_data_storage</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-key">key</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-value">value</a> = <a href="../../Manager_repr/index.html#type-t">Manager_repr.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></code></dt><dd><p>The manager of a contract</p></dd></dl><dl><dt class="spec module" id="module-Delegate"><a href="#module-Delegate" class="anchor"></a><code><span class="keyword">module</span> <a href="Delegate/index.html">Delegate</a> : <a href="../../Storage_sigs/index.html#module-type-Indexed_data_storage">Storage_sigs.Indexed_data_storage</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-key">key</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-value">value</a> = <a href="../../../Tezos_protocol_environment_004_Pt24m4xi__Environment/Signature/Public_key_hash/index.html#type-t">Tezos_protocol_environment_004_Pt24m4xi__Environment.Signature.Public_key_hash.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></code></dt><dd><p>The delegate of a contract, if any.</p></dd></dl><div class="spec module" id="module-Delegated"><a href="#module-Delegated" class="anchor"></a><code><span class="keyword">module</span> <a href="Delegated/index.html">Delegated</a> : <a href="../../Storage_sigs/index.html#module-type-Data_set_storage">Storage_sigs.Data_set_storage</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Data_set_storage/index.html#type-elt">elt</a> = <a href="../../Contract_hash/index.html#type-t">Contract_hash.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Data_set_storage/index.html#type-t">t</a> = <a href="../../Raw_context/index.html#type-t">Raw_context.t</a> * <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a></code></div><div class="spec module" id="module-Inactive_delegate"><a href="#module-Inactive_delegate" class="anchor"></a><code><span class="keyword">module</span> <a href="Inactive_delegate/index.html">Inactive_delegate</a> : <a href="../../Storage_sigs/index.html#module-type-Data_set_storage">Storage_sigs.Data_set_storage</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Data_set_storage/index.html#type-elt">elt</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Data_set_storage/index.html#type-t">t</a> = <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></code></div><dl><dt class="spec module" id="module-Delegate_desactivation"><a href="#module-Delegate_desactivation" class="anchor"></a><code><span class="keyword">module</span> <a href="Delegate_desactivation/index.html">Delegate_desactivation</a> : <a href="../../Storage_sigs/index.html#module-type-Indexed_data_storage">Storage_sigs.Indexed_data_storage</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-key">key</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-value">value</a> = <a href="../../Cycle_repr/index.html#type-t">Cycle_repr.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></code></dt><dd><p>The cycle where the delegate should be desactivated.</p></dd></dl><div class="spec module" id="module-Spendable"><a href="#module-Spendable" class="anchor"></a><code><span class="keyword">module</span> <a href="Spendable/index.html">Spendable</a> : <a href="../../Storage_sigs/index.html#module-type-Data_set_storage">Storage_sigs.Data_set_storage</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Data_set_storage/index.html#type-elt">elt</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Data_set_storage/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></code></div><div class="spec module" id="module-Delegatable"><a href="#module-Delegatable" class="anchor"></a><code><span class="keyword">module</span> <a href="Delegatable/index.html">Delegatable</a> : <a href="../../Storage_sigs/index.html#module-type-Data_set_storage">Storage_sigs.Data_set_storage</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Data_set_storage/index.html#type-elt">elt</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Data_set_storage/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></code></div><div class="spec module" id="module-Counter"><a href="#module-Counter" class="anchor"></a><code><span class="keyword">module</span> <a href="Counter/index.html">Counter</a> : <a href="../../Storage_sigs/index.html#module-type-Indexed_data_storage">Storage_sigs.Indexed_data_storage</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-key">key</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-value">value</a> = <a href="../../../Tezos_protocol_environment_004_Pt24m4xi__Environment/Z/index.html#type-t">Tezos_protocol_environment_004_Pt24m4xi__Environment.Z.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></code></div><div class="spec module" id="module-Code"><a href="#module-Code" class="anchor"></a><code><span class="keyword">module</span> <a href="Code/index.html">Code</a> : <a href="../../Storage_sigs/index.html#module-type-Non_iterable_indexed_carbonated_data_storage">Storage_sigs.Non_iterable_indexed_carbonated_data_storage</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Non_iterable_indexed_carbonated_data_storage/index.html#type-key">key</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Non_iterable_indexed_carbonated_data_storage/index.html#type-value">value</a> = <a href="../../Script_repr/index.html#type-lazy_expr">Script_repr.lazy_expr</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Non_iterable_indexed_carbonated_data_storage/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></code></div><div class="spec module" id="module-Storage"><a href="#module-Storage" class="anchor"></a><code><span class="keyword">module</span> <a href="Storage/index.html">Storage</a> : <a href="../../Storage_sigs/index.html#module-type-Non_iterable_indexed_carbonated_data_storage">Storage_sigs.Non_iterable_indexed_carbonated_data_storage</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Non_iterable_indexed_carbonated_data_storage/index.html#type-key">key</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Non_iterable_indexed_carbonated_data_storage/index.html#type-value">value</a> = <a href="../../Script_repr/index.html#type-lazy_expr">Script_repr.lazy_expr</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Non_iterable_indexed_carbonated_data_storage/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></code></div><dl><dt class="spec module" id="module-Used_storage_space"><a href="#module-Used_storage_space" class="anchor"></a><code><span class="keyword">module</span> <a href="Used_storage_space/index.html">Used_storage_space</a> : <a href="../../Storage_sigs/index.html#module-type-Indexed_data_storage">Storage_sigs.Indexed_data_storage</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-key">key</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-value">value</a> = <a href="../../../Tezos_protocol_environment_004_Pt24m4xi__Environment/Z/index.html#type-t">Tezos_protocol_environment_004_Pt24m4xi__Environment.Z.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></code></dt><dd><p>Current storage space in bytes. Includes code, global storage and big map elements.</p></dd></dl><dl><dt class="spec module" id="module-Paid_storage_space"><a href="#module-Paid_storage_space" class="anchor"></a><code><span class="keyword">module</span> <a href="Paid_storage_space/index.html">Paid_storage_space</a> : <a href="../../Storage_sigs/index.html#module-type-Indexed_data_storage">Storage_sigs.Indexed_data_storage</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-key">key</a> = <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-value">value</a> = <a href="../../../Tezos_protocol_environment_004_Pt24m4xi__Environment/Z/index.html#type-t">Tezos_protocol_environment_004_Pt24m4xi__Environment.Z.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Indexed_data_storage/index.html#type-t">t</a> := <a href="../../Raw_context/index.html#type-t">Raw_context.t</a></code></dt><dd><p>Maximal space available without needing to burn new fees.</p></dd></dl><dl><dt class="spec type" id="type-bigmap_key"><a href="#type-bigmap_key" class="anchor"></a><code><span class="keyword">type</span> bigmap_key</code><code> = <a href="../../Raw_context/index.html#type-t">Raw_context.t</a> * <a href="../../Contract_repr/index.html#type-t">Contract_repr.t</a></code></dt></dl><div class="spec module" id="module-Big_map"><a href="#module-Big_map" class="anchor"></a><code><span class="keyword">module</span> <a href="Big_map/index.html">Big_map</a> : <a href="../../Storage_sigs/index.html#module-type-Non_iterable_indexed_carbonated_data_storage">Storage_sigs.Non_iterable_indexed_carbonated_data_storage</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Non_iterable_indexed_carbonated_data_storage/index.html#type-key">key</a> = <a href="../../Script_expr_hash/index.html#type-t">Script_expr_hash.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Non_iterable_indexed_carbonated_data_storage/index.html#type-value">value</a> = <a href="../../Script_repr/index.html#type-expr">Script_repr.expr</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../Storage_sigs/module-type-Non_iterable_indexed_carbonated_data_storage/index.html#type-t">t</a> := <a href="index.html#type-bigmap_key">bigmap_key</a></code></div></div></body></html>