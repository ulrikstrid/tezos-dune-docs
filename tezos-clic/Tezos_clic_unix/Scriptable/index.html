<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Scriptable (tezos-clic.Tezos_clic_unix.Scriptable)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">tezos-clic</a> &#x00BB; <a href="../index.html">Tezos_clic_unix</a> &#x00BB; Scriptable</nav><h1>Module <code>Tezos_clic_unix.Scriptable</code></h1></header><aside><p>Manage a common <code>&quot;--for-script &lt;FORMAT&gt;&quot;</code> option to make the output of certain commands script-friendly.</p></aside><dl><dt class="spec type" id="type-output_format"><a href="#type-output_format" class="anchor"></a><code><span class="keyword">type</span> output_format</code></dt><dd><p>A representation of the output format.</p></dd></dl><dl><dt class="spec value" id="val-clic_arg"><a href="#val-clic_arg" class="anchor"></a><code><span class="keyword">val</span> clic_arg : unit <span>&#45;&gt;</span> <span><span>(<span><a href="index.html#type-output_format">output_format</a> option</span>, <span class="type-var">_</span>)</span> <a href="../../Tezos_clic/Clic/index.html#type-arg">Tezos_clic.Clic.arg</a></span></code></dt><dd><p>Command line argument for <span class="xref-unresolved" title="unresolved reference to &quot;Clic.command&quot;"><code>Clic</code>.command</span> (and the <code>Clic.args*</code> functions). Not that this is the only way to obtain a value of type <a href="index.html#type-output_format"><code>output_format</code></a>. On the command line, it appears as <code>--for-script</code> with values <code>TSV</code> or <code>CSV</code>.</p></dd></dl><dl><dt class="spec value" id="val-output"><a href="#val-output" class="anchor"></a><code><span class="keyword">val</span> output : <span>?&#8288;channel:Lwt_io.output_channel</span> <span>&#45;&gt;</span> <span><a href="index.html#type-output_format">output_format</a> option</span> <span>&#45;&gt;</span> <span>for_human:<span>(unit <span>&#45;&gt;</span> <span><span>unit <a href="../../../tezos-error-monad/Tezos_error_monad/Error_monad/index.html#type-tzresult">Tezos_error_monad.Error_monad.tzresult</a></span> Lwt.t</span>)</span></span> <span>&#45;&gt;</span> <span>for_script:<span>(unit <span>&#45;&gt;</span> <span><span>string list</span> list</span>)</span></span> <span>&#45;&gt;</span> <span><span>unit <a href="../../../tezos-error-monad/Tezos_error_monad/Error_monad/index.html#type-tzresult">Tezos_error_monad.Error_monad.tzresult</a></span> Lwt.t</span></code></dt><dd><p><code>output fmt_opt ~for_human ~for_script</code> behaves in one of two ways. If <code>fmt_opt</code> is <code>Some _</code>, then it formats the value returned by <code>for_script ()</code>. The function's return value is formatted as lines of columns of values (list of lists of strings). This is to help scripts to decode/interpret/parse the output. Otherwise, if <code>fmt_opt</code> is <code>None</code>, it calls <code>for_human ()</code> which is responsible for the whole formatting.</p><p>The optional argument <code>channel</code> is used when automatically formatting the value returned by <code>for_script ()</code>. It has no effect on <code>for_human ()</code>.</p></dd></dl><dl><dt class="spec value" id="val-output_row"><a href="#val-output_row" class="anchor"></a><code><span class="keyword">val</span> output_row : <span>?&#8288;channel:Lwt_io.output_channel</span> <span>&#45;&gt;</span> <span><a href="index.html#type-output_format">output_format</a> option</span> <span>&#45;&gt;</span> <span>for_human:<span>(unit <span>&#45;&gt;</span> <span><span>unit <a href="../../../tezos-error-monad/Tezos_error_monad/Error_monad/index.html#type-tzresult">Tezos_error_monad.Error_monad.tzresult</a></span> Lwt.t</span>)</span></span> <span>&#45;&gt;</span> <span>for_script:<span>(unit <span>&#45;&gt;</span> <span>string list</span>)</span></span> <span>&#45;&gt;</span> <span><span>unit <a href="../../../tezos-error-monad/Tezos_error_monad/Error_monad/index.html#type-tzresult">Tezos_error_monad.Error_monad.tzresult</a></span> Lwt.t</span></code></dt><dd><p>Same as <a href="index.html#val-output"><code>output</code></a> but for a single row of data.</p></dd></dl><dl><dt class="spec value" id="val-output_for_human"><a href="#val-output_for_human" class="anchor"></a><code><span class="keyword">val</span> output_for_human : <span><a href="index.html#type-output_format">output_format</a> option</span> <span>&#45;&gt;</span> <span>(unit <span>&#45;&gt;</span> <span><span>unit <a href="../../../tezos-error-monad/Tezos_error_monad/Error_monad/index.html#type-tzresult">Tezos_error_monad.Error_monad.tzresult</a></span> Lwt.t</span>)</span> <span>&#45;&gt;</span> <span><span>unit <a href="../../../tezos-error-monad/Tezos_error_monad/Error_monad/index.html#type-tzresult">Tezos_error_monad.Error_monad.tzresult</a></span> Lwt.t</span></code></dt><dd><p><code>output_for_human fmt_opt for_human</code> behaves in either of two ways. If <code>fmt_opt</code> is <code>None</code>, then it calls <code>for_human ()</code>. Otherwise, it does nothing.</p><p>Use this function to provide output that is of no interest to automatic tools.</p></dd></dl></div></body></html>