<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Tezos_raw_protocol_008_PtEdo2Zk__Amendment (tezos-protocol-008-PtEdo2Zk.Tezos_raw_protocol_008_PtEdo2Zk__Amendment)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">tezos-protocol-008-PtEdo2Zk</a> &#x00BB; Tezos_raw_protocol_008_PtEdo2Zk__Amendment</nav><h1>Module <code>Tezos_raw_protocol_008_PtEdo2Zk__Amendment</code></h1><p>Only delegates with at least one roll take part in the amendment procedure. It works as follows:</p><ul><li>Proposal period: delegates can submit protocol amendment proposals using the proposal operation. At the end of a proposal period, the proposal with most supporters is selected and we move to a testing_vote period. If there are no proposals, or a tie between proposals, a new proposal period starts.</li><li>Testing_vote period: delegates can cast votes to test or not the winning proposal using the ballot operation. At the end of a testing_vote period if participation reaches the quorum and the proposal has a supermajority in favor, we proceed to a testing period. Otherwise we go back to a proposal period. In any case, if there is enough participation the quorum is updated.</li><li>Testing period: a test chain is forked for the length of the period. At the end of a testing period we move to a promotion_vote period.</li><li>Promotion_vote period: delegates can cast votes to promote or not the tested proposal using the ballot operation. At the end of a promotion_vote period if participation reaches the quorum and the tested proposal has a supermajority in favor, we move to an adoption period. Otherwise we go back to a proposal period. In any case, if there is enough participation the quorum is updated.</li><li>Adoption period: At the end of an adoption period, the proposal is activated as the new protocol.</li></ul></header><dl><dt class="spec value" id="val-may_start_new_voting_period"><a href="#val-may_start_new_voting_period" class="anchor"></a><code><span class="keyword">val</span> may_start_new_voting_period : <a href="../Tezos_raw_protocol_008_PtEdo2Zk/Alpha_context/index.html#type-context">Tezos_raw_protocol_008_PtEdo2Zk.Alpha_context.context</a> <span>&#45;&gt;</span> <span><span><a href="../Tezos_raw_protocol_008_PtEdo2Zk/Alpha_context/index.html#type-context">Tezos_raw_protocol_008_PtEdo2Zk.Alpha_context.context</a> <a href="../Tezos_protocol_environment_008_PtEdo2Zk__Environment/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_008_PtEdo2Zk__Environment.Error_monad.tzresult</a></span> <a href="../Tezos_protocol_environment_008_PtEdo2Zk__Environment/Lwt/index.html#type-t">Tezos_protocol_environment_008_PtEdo2Zk__Environment.Lwt.t</a></span></code></dt><dd><p>If at the end of a voting period, moves to the next one following the state machine of the amendment procedure.</p></dd></dl><dl><dt class="spec extension"><code><span class="keyword">type</span> <a href="../Tezos_protocol_environment_008_PtEdo2Zk__Environment/Error_monad/index.html#type-error">Tezos_protocol_environment_008_PtEdo2Zk__Environment.Error_monad.error</a> += </code><code><span class="extension">Unexpected_proposal</span></code><code> | </code><code><span class="extension">Unauthorized_proposal</span></code><code> | </code><code><span class="extension">Too_many_proposals</span></code><code> | </code><code><span class="extension">Empty_proposal</span></code></dt></dl><dl><dt class="spec value" id="val-record_proposals"><a href="#val-record_proposals" class="anchor"></a><code><span class="keyword">val</span> record_proposals : <a href="../Tezos_raw_protocol_008_PtEdo2Zk/Alpha_context/index.html#type-context">Tezos_raw_protocol_008_PtEdo2Zk.Alpha_context.context</a> <span>&#45;&gt;</span> <a href="../Tezos_raw_protocol_008_PtEdo2Zk/Alpha_context/index.html#type-public_key_hash">Tezos_raw_protocol_008_PtEdo2Zk.Alpha_context.public_key_hash</a> <span>&#45;&gt;</span> <span><a href="../Tezos_protocol_environment_008_PtEdo2Zk__Environment/Protocol_hash/index.html#type-t">Tezos_protocol_environment_008_PtEdo2Zk__Environment.Protocol_hash.t</a> list</span> <span>&#45;&gt;</span> <span><span><a href="../Tezos_raw_protocol_008_PtEdo2Zk/Alpha_context/index.html#type-context">Tezos_raw_protocol_008_PtEdo2Zk.Alpha_context.context</a> <a href="../Tezos_protocol_environment_008_PtEdo2Zk__Environment/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_008_PtEdo2Zk__Environment.Error_monad.tzresult</a></span> <a href="../Tezos_protocol_environment_008_PtEdo2Zk__Environment/Lwt/index.html#type-t">Tezos_protocol_environment_008_PtEdo2Zk__Environment.Lwt.t</a></span></code></dt><dd><p>Records a list of proposals for a delegate.</p><dl><dt>raises Unexpected_proposal</dt><dd><p>if <code>ctxt</code> is not in a proposal period.</p></dd></dl><dl><dt>raises Unauthorized_proposal</dt><dd><p>if <code>delegate</code> is not in the listing.</p></dd></dl></dd></dl><dl><dt class="spec extension"><code><span class="keyword">type</span> <a href="../Tezos_protocol_environment_008_PtEdo2Zk__Environment/Error_monad/index.html#type-error">Tezos_protocol_environment_008_PtEdo2Zk__Environment.Error_monad.error</a> += </code><code><span class="extension">Invalid_proposal</span></code><code> | </code><code><span class="extension">Unexpected_ballot</span></code><code> | </code><code><span class="extension">Unauthorized_ballot</span></code></dt></dl><dl><dt class="spec value" id="val-record_ballot"><a href="#val-record_ballot" class="anchor"></a><code><span class="keyword">val</span> record_ballot : <a href="../Tezos_raw_protocol_008_PtEdo2Zk/Alpha_context/index.html#type-context">Tezos_raw_protocol_008_PtEdo2Zk.Alpha_context.context</a> <span>&#45;&gt;</span> <a href="../Tezos_raw_protocol_008_PtEdo2Zk/Alpha_context/index.html#type-public_key_hash">Tezos_raw_protocol_008_PtEdo2Zk.Alpha_context.public_key_hash</a> <span>&#45;&gt;</span> <a href="../Tezos_protocol_environment_008_PtEdo2Zk__Environment/Protocol_hash/index.html#type-t">Tezos_protocol_environment_008_PtEdo2Zk__Environment.Protocol_hash.t</a> <span>&#45;&gt;</span> <a href="../Tezos_raw_protocol_008_PtEdo2Zk/Alpha_context/Vote/index.html#type-ballot">Tezos_raw_protocol_008_PtEdo2Zk.Alpha_context.Vote.ballot</a> <span>&#45;&gt;</span> <span><span><a href="../Tezos_raw_protocol_008_PtEdo2Zk/Alpha_context/index.html#type-context">Tezos_raw_protocol_008_PtEdo2Zk.Alpha_context.context</a> <a href="../Tezos_protocol_environment_008_PtEdo2Zk__Environment/Error_monad/index.html#type-tzresult">Tezos_protocol_environment_008_PtEdo2Zk__Environment.Error_monad.tzresult</a></span> <a href="../Tezos_protocol_environment_008_PtEdo2Zk__Environment/Lwt/index.html#type-t">Tezos_protocol_environment_008_PtEdo2Zk__Environment.Lwt.t</a></span></code></dt></dl></div></body></html>