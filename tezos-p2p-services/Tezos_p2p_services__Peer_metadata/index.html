<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Tezos_p2p_services__Peer_metadata (tezos-p2p-services.Tezos_p2p_services__Peer_metadata)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">tezos-p2p-services</a> &#x00BB; Tezos_p2p_services__Peer_metadata</nav><h1>Module <code>Tezos_p2p_services__Peer_metadata</code></h1><p>All the (persistent) metadata associated to a peer.</p></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt></dl><dl><dt class="spec value" id="val-encoding"><a href="#val-encoding" class="anchor"></a><code><span class="keyword">val</span> encoding : <span><a href="index.html#type-t">t</a> <a href="../../tezos-base/Tezos_base__TzPervasives/index.html#module-Data_encoding">Tezos_base__TzPervasives.Data_encoding</a>.t</span></code></dt><dt class="spec value" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span class="keyword">val</span> empty : unit <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-distributed_db_score"><a href="#val-distributed_db_score" class="anchor"></a><code><span class="keyword">val</span> distributed_db_score : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> float</code></dt><dd><p>the aggregate score function computed from the metadata collected for a peer</p></dd></dl><dl><dt class="spec value" id="val-prevalidation_score"><a href="#val-prevalidation_score" class="anchor"></a><code><span class="keyword">val</span> prevalidation_score : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> float</code></dt><dt class="spec value" id="val-score"><a href="#val-score" class="anchor"></a><code><span class="keyword">val</span> score : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> float</code></dt></dl><dl><dt class="spec type" id="type-requests_kind"><a href="#type-requests_kind" class="anchor"></a><code><span class="keyword">type</span> requests_kind</code><code> = </code><table class="variant"><tr id="type-requests_kind.Branch" class="anchored"><td class="def constructor"><a href="#type-requests_kind.Branch" class="anchor"></a><code>| </code><code><span class="constructor">Branch</span></code></td></tr><tr id="type-requests_kind.Head" class="anchored"><td class="def constructor"><a href="#type-requests_kind.Head" class="anchor"></a><code>| </code><code><span class="constructor">Head</span></code></td></tr><tr id="type-requests_kind.Block_header" class="anchored"><td class="def constructor"><a href="#type-requests_kind.Block_header" class="anchor"></a><code>| </code><code><span class="constructor">Block_header</span></code></td></tr><tr id="type-requests_kind.Operations" class="anchored"><td class="def constructor"><a href="#type-requests_kind.Operations" class="anchor"></a><code>| </code><code><span class="constructor">Operations</span></code></td></tr><tr id="type-requests_kind.Protocols" class="anchored"><td class="def constructor"><a href="#type-requests_kind.Protocols" class="anchor"></a><code>| </code><code><span class="constructor">Protocols</span></code></td></tr><tr id="type-requests_kind.Operation_hashes_for_block" class="anchored"><td class="def constructor"><a href="#type-requests_kind.Operation_hashes_for_block" class="anchor"></a><code>| </code><code><span class="constructor">Operation_hashes_for_block</span></code></td></tr><tr id="type-requests_kind.Operations_for_block" class="anchored"><td class="def constructor"><a href="#type-requests_kind.Operations_for_block" class="anchor"></a><code>| </code><code><span class="constructor">Operations_for_block</span></code></td></tr><tr id="type-requests_kind.Checkpoint" class="anchored"><td class="def constructor"><a href="#type-requests_kind.Checkpoint" class="anchor"></a><code>| </code><code><span class="constructor">Checkpoint</span></code></td></tr><tr id="type-requests_kind.Protocol_branch" class="anchored"><td class="def constructor"><a href="#type-requests_kind.Protocol_branch" class="anchor"></a><code>| </code><code><span class="constructor">Protocol_branch</span></code></td></tr><tr id="type-requests_kind.Predecessor_header" class="anchored"><td class="def constructor"><a href="#type-requests_kind.Predecessor_header" class="anchor"></a><code>| </code><code><span class="constructor">Predecessor_header</span></code></td></tr><tr id="type-requests_kind.Other" class="anchored"><td class="def constructor"><a href="#type-requests_kind.Other" class="anchor"></a><code>| </code><code><span class="constructor">Other</span></code></td></tr></table></dt><dt class="spec type" id="type-resource_kind"><a href="#type-resource_kind" class="anchor"></a><code><span class="keyword">type</span> resource_kind</code><code> = </code><table class="variant"><tr id="type-resource_kind.Block" class="anchored"><td class="def constructor"><a href="#type-resource_kind.Block" class="anchor"></a><code>| </code><code><span class="constructor">Block</span></code></td></tr><tr id="type-resource_kind.Operations" class="anchored"><td class="def constructor"><a href="#type-resource_kind.Operations" class="anchor"></a><code>| </code><code><span class="constructor">Operations</span></code></td></tr><tr id="type-resource_kind.Protocol" class="anchored"><td class="def constructor"><a href="#type-resource_kind.Protocol" class="anchor"></a><code>| </code><code><span class="constructor">Protocol</span></code></td></tr></table></dt><dt class="spec type" id="type-advertisement"><a href="#type-advertisement" class="anchor"></a><code><span class="keyword">type</span> advertisement</code><code> = </code><table class="variant"><tr id="type-advertisement.Head" class="anchored"><td class="def constructor"><a href="#type-advertisement.Head" class="anchor"></a><code>| </code><code><span class="constructor">Head</span></code></td></tr><tr id="type-advertisement.Branch" class="anchored"><td class="def constructor"><a href="#type-advertisement.Branch" class="anchor"></a><code>| </code><code><span class="constructor">Branch</span></code></td></tr></table></dt><dt class="spec type" id="type-metadata"><a href="#type-metadata" class="anchor"></a><code><span class="keyword">type</span> metadata</code><code> = </code><table class="variant"><tr id="type-metadata.Received_request" class="anchored"><td class="def constructor"><a href="#type-metadata.Received_request" class="anchor"></a><code>| </code><code><span class="constructor">Received_request</span> <span class="keyword">of</span> <a href="index.html#type-requests_kind">requests_kind</a></code></td></tr><tr id="type-metadata.Sent_request" class="anchored"><td class="def constructor"><a href="#type-metadata.Sent_request" class="anchor"></a><code>| </code><code><span class="constructor">Sent_request</span> <span class="keyword">of</span> <a href="index.html#type-requests_kind">requests_kind</a></code></td></tr><tr id="type-metadata.Failed_request" class="anchored"><td class="def constructor"><a href="#type-metadata.Failed_request" class="anchor"></a><code>| </code><code><span class="constructor">Failed_request</span> <span class="keyword">of</span> <a href="index.html#type-requests_kind">requests_kind</a></code></td></tr><tr id="type-metadata.Scheduled_request" class="anchored"><td class="def constructor"><a href="#type-metadata.Scheduled_request" class="anchor"></a><code>| </code><code><span class="constructor">Scheduled_request</span> <span class="keyword">of</span> <a href="index.html#type-requests_kind">requests_kind</a></code></td></tr><tr id="type-metadata.Received_response" class="anchored"><td class="def constructor"><a href="#type-metadata.Received_response" class="anchor"></a><code>| </code><code><span class="constructor">Received_response</span> <span class="keyword">of</span> <a href="index.html#type-requests_kind">requests_kind</a></code></td></tr><tr id="type-metadata.Sent_response" class="anchored"><td class="def constructor"><a href="#type-metadata.Sent_response" class="anchor"></a><code>| </code><code><span class="constructor">Sent_response</span> <span class="keyword">of</span> <a href="index.html#type-requests_kind">requests_kind</a></code></td></tr><tr id="type-metadata.Unexpected_response" class="anchored"><td class="def constructor"><a href="#type-metadata.Unexpected_response" class="anchor"></a><code>| </code><code><span class="constructor">Unexpected_response</span></code></td></tr><tr id="type-metadata.Unactivated_chain" class="anchored"><td class="def constructor"><a href="#type-metadata.Unactivated_chain" class="anchor"></a><code>| </code><code><span class="constructor">Unactivated_chain</span></code></td></tr><tr id="type-metadata.Inactive_chain" class="anchored"><td class="def constructor"><a href="#type-metadata.Inactive_chain" class="anchor"></a><code>| </code><code><span class="constructor">Inactive_chain</span></code></td></tr><tr id="type-metadata.Future_block" class="anchored"><td class="def constructor"><a href="#type-metadata.Future_block" class="anchor"></a><code>| </code><code><span class="constructor">Future_block</span></code></td></tr><tr id="type-metadata.Unadvertised" class="anchored"><td class="def constructor"><a href="#type-metadata.Unadvertised" class="anchor"></a><code>| </code><code><span class="constructor">Unadvertised</span> <span class="keyword">of</span> <a href="index.html#type-resource_kind">resource_kind</a></code></td></tr><tr id="type-metadata.Sent_advertisement" class="anchored"><td class="def constructor"><a href="#type-metadata.Sent_advertisement" class="anchor"></a><code>| </code><code><span class="constructor">Sent_advertisement</span> <span class="keyword">of</span> <a href="index.html#type-advertisement">advertisement</a></code></td></tr><tr id="type-metadata.Received_advertisement" class="anchored"><td class="def constructor"><a href="#type-metadata.Received_advertisement" class="anchor"></a><code>| </code><code><span class="constructor">Received_advertisement</span> <span class="keyword">of</span> <a href="index.html#type-advertisement">advertisement</a></code></td></tr><tr id="type-metadata.Outdated_response" class="anchored"><td class="def constructor"><a href="#type-metadata.Outdated_response" class="anchor"></a><code>| </code><code><span class="constructor">Outdated_response</span></code></td></tr><tr id="type-metadata.Valid_blocks" class="anchored"><td class="def constructor"><a href="#type-metadata.Valid_blocks" class="anchor"></a><code>| </code><code><span class="constructor">Valid_blocks</span></code></td></tr><tr id="type-metadata.Old_heads" class="anchored"><td class="def constructor"><a href="#type-metadata.Old_heads" class="anchor"></a><code>| </code><code><span class="constructor">Old_heads</span></code></td></tr><tr id="type-metadata.Cannot_download" class="anchored"><td class="def constructor"><a href="#type-metadata.Cannot_download" class="anchor"></a><code>| </code><code><span class="constructor">Cannot_download</span></code></td></tr><tr id="type-metadata.Cannot_parse" class="anchored"><td class="def constructor"><a href="#type-metadata.Cannot_parse" class="anchor"></a><code>| </code><code><span class="constructor">Cannot_parse</span></code></td></tr><tr id="type-metadata.Refused_by_prefilter" class="anchored"><td class="def constructor"><a href="#type-metadata.Refused_by_prefilter" class="anchor"></a><code>| </code><code><span class="constructor">Refused_by_prefilter</span></code></td></tr><tr id="type-metadata.Refused_by_postfilter" class="anchored"><td class="def constructor"><a href="#type-metadata.Refused_by_postfilter" class="anchor"></a><code>| </code><code><span class="constructor">Refused_by_postfilter</span></code></td></tr><tr id="type-metadata.Applied" class="anchored"><td class="def constructor"><a href="#type-metadata.Applied" class="anchor"></a><code>| </code><code><span class="constructor">Applied</span></code></td></tr><tr id="type-metadata.Branch_delayed" class="anchored"><td class="def constructor"><a href="#type-metadata.Branch_delayed" class="anchor"></a><code>| </code><code><span class="constructor">Branch_delayed</span></code></td></tr><tr id="type-metadata.Branch_refused" class="anchored"><td class="def constructor"><a href="#type-metadata.Branch_refused" class="anchor"></a><code>| </code><code><span class="constructor">Branch_refused</span></code></td></tr><tr id="type-metadata.Refused" class="anchored"><td class="def constructor"><a href="#type-metadata.Refused" class="anchor"></a><code>| </code><code><span class="constructor">Refused</span></code></td></tr><tr id="type-metadata.Duplicate" class="anchored"><td class="def constructor"><a href="#type-metadata.Duplicate" class="anchor"></a><code>| </code><code><span class="constructor">Duplicate</span></code></td></tr><tr id="type-metadata.Outdated" class="anchored"><td class="def constructor"><a href="#type-metadata.Outdated" class="anchor"></a><code>| </code><code><span class="constructor">Outdated</span></code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-incr"><a href="#val-incr" class="anchor"></a><code><span class="keyword">val</span> incr : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-metadata">metadata</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>incr score counters . Used to compute the final score for a peer</p></dd></dl><dl><dt class="spec value" id="val-update_requests"><a href="#val-update_requests" class="anchor"></a><code><span class="keyword">val</span> update_requests : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-requests_kind">requests_kind</a> <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-update_responses"><a href="#val-update_responses" class="anchor"></a><code><span class="keyword">val</span> update_responses : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-requests_kind">requests_kind</a> <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> unit</code></dt></dl></div></body></html>