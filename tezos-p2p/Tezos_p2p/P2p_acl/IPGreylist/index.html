<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>IPGreylist (tezos-p2p.Tezos_p2p.P2p_acl.IPGreylist)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../../index.html">tezos-p2p</a> &#x00BB; <a href="../../index.html">Tezos_p2p</a> &#x00BB; <a href="../index.html">P2p_acl</a> &#x00BB; IPGreylist</nav><h1>Module <code>P2p_acl.IPGreylist</code></h1></header><dl><dt class="spec value" id="val-add"><a href="#val-add" class="anchor"></a><code><span class="keyword">val</span> add : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../../../tezos-base/Tezos_base/P2p_addr/index.html#type-t">Tezos_base__TzPervasives.P2p_addr.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>add t addr</code> adds <code>addr</code> to the address greylist.</p></dd></dl><dl><dt class="spec value" id="val-clear"><a href="#val-clear" class="anchor"></a><code><span class="keyword">val</span> clear : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>clear t</code> removes all address greylistings.</p></dd></dl><dl><dt class="spec value" id="val-gc"><a href="#val-gc" class="anchor"></a><code><span class="keyword">val</span> gc : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>gc t</code> removes some address greylistings (the oldest have a higher probability to be removed, yet due to the underlying probabilistic structure, recent greylistings can be dropped).</p></dd></dl><dl><dt class="spec value" id="val-mem"><a href="#val-mem" class="anchor"></a><code><span class="keyword">val</span> mem : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../../../tezos-base/Tezos_base/P2p_addr/index.html#type-t">Tezos_base__TzPervasives.P2p_addr.t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>mem t addr</code> tells if <code>addr</code> is greylisted, but may return a false positive due to the underlying probabilistic structure.</p></dd></dl><dl><dt class="spec value" id="val-fill_percentage"><a href="#val-fill_percentage" class="anchor"></a><code><span class="keyword">val</span> fill_percentage : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> float</code></dt><dd><p><code>fill_percentage t</code> returns the percentage (in the <code>0,1</code> interval) of bloom filter cells which are nonzero.</p></dd></dl><dl><dt class="spec value" id="val-life_expectancy_histogram"><a href="#val-life_expectancy_histogram" class="anchor"></a><code><span class="keyword">val</span> life_expectancy_histogram : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> <span>int array</span></code></dt><dd><p><code>life_expectancy_histogram t</code> returns the life expectancy distribution of cells (measured in <code>gc</code> calls) stored as an array: the value at index <code>k</code> stores the number of cells that are <code>k</code> calls to <code>gc</code> away from being removed from the greylist.</p></dd></dl><dl><dt class="spec value" id="val-list"><a href="#val-list" class="anchor"></a><code><span class="keyword">val</span> list : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="../../../../tezos-base/Tezos_base/P2p_addr/index.html#type-t">Tezos_base__TzPervasives.P2p_addr.t</a> list</span></code></dt><dd><p><code>list t</code> if <code>list_not_reliable_since t</code> returns <code>None</code>, returns the list of currently greylisted IPs. Else it return the list of all ips greylisted since `list_not_reliable_since`</p></dd></dl><dl><dt class="spec value" id="val-list_not_reliable_since"><a href="#val-list_not_reliable_since" class="anchor"></a><code><span class="keyword">val</span> list_not_reliable_since : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="../../../../tezos-base/Tezos_base__Time/System/index.html#type-t">Tezos_base__TzPervasives.Time.System.t</a> option</span></code></dt></dl></div></body></html>