<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>IPGreylist (tezos-p2p.Tezos_p2p.P2p_acl.IPGreylist)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">tezos-p2p</a> &#x00BB; <a href="../../index.html">Tezos_p2p</a> &#x00BB; <a href="../index.html">P2p_acl</a> &#x00BB; IPGreylist</nav><header class="odoc-preamble"><h1>Module <code><span>P2p_acl.IPGreylist</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value" id="val-add" class="anchored"><a href="#val-add" class="anchor"></a><code><span><span class="keyword">val</span> add : <span><a href="../index.html#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../tezos-base/Tezos_base/P2p_addr/index.html#type-t">Tezos_base.P2p_addr.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>add t addr</code> adds <code>addr</code> to the address greylist.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-clear" class="anchored"><a href="#val-clear" class="anchor"></a><code><span><span class="keyword">val</span> clear : <span><a href="../index.html#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>clear t</code> removes all address greylistings.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-gc" class="anchored"><a href="#val-gc" class="anchor"></a><code><span><span class="keyword">val</span> gc : <span><a href="../index.html#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>gc t</code> removes some address greylistings (the oldest have a higher probability to be removed, yet due to the underlying probabilistic structure, recent greylistings can be dropped).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mem" class="anchored"><a href="#val-mem" class="anchor"></a><code><span><span class="keyword">val</span> mem : <span><a href="../index.html#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../tezos-base/Tezos_base/P2p_addr/index.html#type-t">Tezos_base.P2p_addr.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>mem t addr</code> tells if <code>addr</code> is greylisted, but may return a false positive due to the underlying probabilistic structure.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fill_percentage" class="anchored"><a href="#val-fill_percentage" class="anchor"></a><code><span><span class="keyword">val</span> fill_percentage : <span><a href="../index.html#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p><code>fill_percentage t</code> returns the percentage (in the <code>0,1</code> interval) of bloom filter cells which are nonzero.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-life_expectancy_histogram" class="anchored"><a href="#val-life_expectancy_histogram" class="anchor"></a><code><span><span class="keyword">val</span> life_expectancy_histogram : <span><a href="../index.html#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int array</span></span></code></div><div class="spec-doc"><p><code>life_expectancy_histogram t</code> returns the life expectancy distribution of cells (measured in <code>gc</code> calls) stored as an array: the value at index <code>k</code> stores the number of cells that are <code>k</code> calls to <code>gc</code> away from being removed from the greylist.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-list" class="anchored"><a href="#val-list" class="anchor"></a><code><span><span class="keyword">val</span> list : <span><a href="../index.html#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../tezos-base/Tezos_base/P2p_addr/index.html#type-t">Tezos_base.P2p_addr.t</a> list</span></span></code></div><div class="spec-doc"><p><code>list t</code> if <code>list_not_reliable_since t</code> returns <code>None</code>, returns the list of currently greylisted IPs. Else it return the list of all ips greylisted since `list_not_reliable_since`</p></div></div><div class="odoc-spec"><div class="spec value" id="val-list_not_reliable_since" class="anchored"><a href="#val-list_not_reliable_since" class="anchor"></a><code><span><span class="keyword">val</span> list_not_reliable_since : <span><a href="../index.html#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../tezos-base/Tezos_base/Time/System/index.html#type-t">Tezos_base.Time.System.t</a> option</span></span></code></div></div></div></body></html>