<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Tag (tezos-base.Tezos_base.TzPervasives.Tag)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../../index.html">tezos-base</a> &#x00BB; <a href="../../index.html">Tezos_base</a> &#x00BB; <a href="../index.html">TzPervasives</a> &#x00BB; Tag</nav><h1>Module <code>TzPervasives.Tag</code></h1></header><aside><p>Tags and tag sets. Tags are basically similar to a plain extensible variant type, but wrapped with metadata that enables them to be printed generically and combined into tag sets where each tag is either not present or associated with a specific value.</p><p>They are primarily intended for use with the `Logging` module but it would probably be reasonable to use them for other purposes.</p></aside><dl><dt class="spec type" id="type-def"><a href="#type-def" class="anchor"></a><code><span class="keyword">type</span> <span>_ def</span></code></dt><dd><p>Type of tag definitions. Analogous to a constructor of an extensible variant type, but first-class.</p></dd></dl><dl><dt class="spec value" id="val-def"><a href="#val-def" class="anchor"></a><code><span class="keyword">val</span> def : <span>?&#8288;doc:string</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span>(Stdlib.Format.formatter <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-def">def</a></span></code></dt><dd><p>Define a new tag with a name, printer, and optional documentation string. This is generative, not applicative, so tag definitions created with identical names and printers at different times or places will be different tags! You probably do not want to define a tag in a local scope unless you have something really tricky in mind. Basically all the caveats you would have if you wrote <code>type t +=</code> apply.</p></dd></dl><dl><dt class="spec value" id="val-name"><a href="#val-name" class="anchor"></a><code><span class="keyword">val</span> name : <span><span class="type-var">'a</span> <a href="index.html#type-def">def</a></span> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-doc"><a href="#val-doc" class="anchor"></a><code><span class="keyword">val</span> doc : <span><span class="type-var">'a</span> <a href="index.html#type-def">def</a></span> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-printer"><a href="#val-printer" class="anchor"></a><code><span class="keyword">val</span> printer : <span><span class="type-var">'a</span> <a href="index.html#type-def">def</a></span> <span>&#45;&gt;</span> Stdlib.Format.formatter <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_def"><a href="#val-pp_def" class="anchor"></a><code><span class="keyword">val</span> pp_def : Stdlib.Format.formatter <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-def">def</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Print the name of a tag definition.</p></dd></dl><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = </code><table class="variant"><tr id="type-t.V" class="anchored"><td class="def constructor"><a href="#type-t.V" class="anchor"></a><code>| </code><code><span class="constructor">V</span> : <span><span class="type-var">'a</span> <a href="index.html#type-def">def</a></span> * <span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></td></tr></table></dt><dd><p>A binding consisting of a tag and value. If a `def` is a constructor of an extensible variant type, a `t` is a value of that type.</p></dd></dl><dl><dt class="spec value" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span class="keyword">val</span> pp : Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt></dl><div class="spec module" id="module-Key"><a href="#module-Key" class="anchor"></a><code><span class="keyword">module</span> <a href="Key/index.html">Key</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec type" id="type-set"><a href="#type-set" class="anchor"></a><code><span class="keyword">type</span> set</code></dt><dd><p>Tag sets. If `t` is an extensible variant type, `set` is a set of `t`s no two of which have the same constructor. Most ordinary set and map operations familiar from the OCaml standard library are provided. `equal` and `compare` are purposely not provided as there is no meaningful ordering on tags and their arguments may not even have a meaningful notion of equality.</p></dd></dl><dl><dt class="spec value" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span class="keyword">val</span> empty : <a href="index.html#type-set">set</a></code></dt><dt class="spec value" id="val-is_empty"><a href="#val-is_empty" class="anchor"></a><code><span class="keyword">val</span> is_empty : <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-mem"><a href="#val-mem" class="anchor"></a><code><span class="keyword">val</span> mem : <span><span class="type-var">'a</span> <a href="index.html#type-def">def</a></span> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-add"><a href="#val-add" class="anchor"></a><code><span class="keyword">val</span> add : <span><span class="type-var">'a</span> <a href="index.html#type-def">def</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a></code></dt><dt class="spec value" id="val-update"><a href="#val-update" class="anchor"></a><code><span class="keyword">val</span> update : <span><span class="type-var">'a</span> <a href="index.html#type-def">def</a></span> <span>&#45;&gt;</span> <span>(<span><span class="type-var">'a</span> option</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> option</span>)</span> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a></code></dt><dt class="spec value" id="val-singleton"><a href="#val-singleton" class="anchor"></a><code><span class="keyword">val</span> singleton : <span><span class="type-var">'a</span> <a href="index.html#type-def">def</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a></code></dt><dt class="spec value" id="val-remove"><a href="#val-remove" class="anchor"></a><code><span class="keyword">val</span> remove : <span><span class="type-var">'a</span> <a href="index.html#type-def">def</a></span> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a></code></dt><dt class="spec value" id="val-rem"><a href="#val-rem" class="anchor"></a><code><span class="keyword">val</span> rem : <span><span class="type-var">'a</span> <a href="index.html#type-def">def</a></span> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a></code></dt></dl><dl><dt class="spec type" id="type-merger"><a href="#type-merger" class="anchor"></a><code><span class="keyword">type</span> merger</code><code> = </code><code>{</code><table class="record"><tr id="type-merger.merger" class="anchored"><td class="def field"><a href="#type-merger.merger" class="anchor"></a><code>merger : a. <span><span class="type-var">'a</span> <a href="index.html#type-def">def</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> option</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> option</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> option</span>;</code></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-merge"><a href="#val-merge" class="anchor"></a><code><span class="keyword">val</span> merge : <a href="index.html#type-merger">merger</a> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a></code></dt></dl><dl><dt class="spec type" id="type-unioner"><a href="#type-unioner" class="anchor"></a><code><span class="keyword">type</span> unioner</code><code> = </code><code>{</code><table class="record"><tr id="type-unioner.unioner" class="anchored"><td class="def field"><a href="#type-unioner.unioner" class="anchor"></a><code>unioner : a. <span><span class="type-var">'a</span> <a href="index.html#type-def">def</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>;</code></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-union"><a href="#val-union" class="anchor"></a><code><span class="keyword">val</span> union : <a href="index.html#type-unioner">unioner</a> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a></code></dt><dt class="spec value" id="val-iter"><a href="#val-iter" class="anchor"></a><code><span class="keyword">val</span> iter : <span>(<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-fold"><a href="#val-fold" class="anchor"></a><code><span class="keyword">val</span> fold : <span>(<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'b</span></code></dt><dt class="spec value" id="val-for_all"><a href="#val-for_all" class="anchor"></a><code><span class="keyword">val</span> for_all : <span>(<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool)</span> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-exists"><a href="#val-exists" class="anchor"></a><code><span class="keyword">val</span> exists : <span>(<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool)</span> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-filter"><a href="#val-filter" class="anchor"></a><code><span class="keyword">val</span> filter : <span>(<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool)</span> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a></code></dt><dt class="spec value" id="val-partition"><a href="#val-partition" class="anchor"></a><code><span class="keyword">val</span> partition : <span>(<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool)</span> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a> * <a href="index.html#type-set">set</a></code></dt><dt class="spec value" id="val-cardinal"><a href="#val-cardinal" class="anchor"></a><code><span class="keyword">val</span> cardinal : <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-min_binding"><a href="#val-min_binding" class="anchor"></a><code><span class="keyword">val</span> min_binding : <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-min_binding_opt"><a href="#val-min_binding_opt" class="anchor"></a><code><span class="keyword">val</span> min_binding_opt : <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> option</span></code></dt><dt class="spec value" id="val-max_binding"><a href="#val-max_binding" class="anchor"></a><code><span class="keyword">val</span> max_binding : <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-max_binding_opt"><a href="#val-max_binding_opt" class="anchor"></a><code><span class="keyword">val</span> max_binding_opt : <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> option</span></code></dt><dt class="spec value" id="val-choose"><a href="#val-choose" class="anchor"></a><code><span class="keyword">val</span> choose : <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-choose_opt"><a href="#val-choose_opt" class="anchor"></a><code><span class="keyword">val</span> choose_opt : <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> option</span></code></dt><dt class="spec value" id="val-split"><a href="#val-split" class="anchor"></a><code><span class="keyword">val</span> split : <span><span class="type-var">'a</span> <a href="index.html#type-def">def</a></span> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a> * <span><span class="type-var">'a</span> option</span> * <a href="index.html#type-set">set</a></code></dt><dt class="spec value" id="val-find_opt"><a href="#val-find_opt" class="anchor"></a><code><span class="keyword">val</span> find_opt : <span><span class="type-var">'a</span> <a href="index.html#type-def">def</a></span> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> option</span></code></dt><dt class="spec value" id="val-find"><a href="#val-find" class="anchor"></a><code><span class="keyword">val</span> find : <span><span class="type-var">'a</span> <a href="index.html#type-def">def</a></span> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> option</span></code></dt><dt class="spec value" id="val-get"><a href="#val-get" class="anchor"></a><code><span class="keyword">val</span> get : <span><span class="type-var">'a</span> <a href="index.html#type-def">def</a></span> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-find_first"><a href="#val-find_first" class="anchor"></a><code><span class="keyword">val</span> find_first : <span>(<a href="Key/index.html#type-t">Key.t</a> <span>&#45;&gt;</span> bool)</span> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-find_first_opt"><a href="#val-find_first_opt" class="anchor"></a><code><span class="keyword">val</span> find_first_opt : <span>(<a href="Key/index.html#type-t">Key.t</a> <span>&#45;&gt;</span> bool)</span> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> option</span></code></dt><dt class="spec value" id="val-find_last"><a href="#val-find_last" class="anchor"></a><code><span class="keyword">val</span> find_last : <span>(<a href="Key/index.html#type-t">Key.t</a> <span>&#45;&gt;</span> bool)</span> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-find_last_opt"><a href="#val-find_last_opt" class="anchor"></a><code><span class="keyword">val</span> find_last_opt : <span>(<a href="Key/index.html#type-t">Key.t</a> <span>&#45;&gt;</span> bool)</span> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> option</span></code></dt><dt class="spec value" id="val-map"><a href="#val-map" class="anchor"></a><code><span class="keyword">val</span> map : <span>(<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a>)</span> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a></code></dt><dt class="spec value" id="val-mapi"><a href="#val-mapi" class="anchor"></a><code><span class="keyword">val</span> mapi : <span>(<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a>)</span> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <a href="index.html#type-set">set</a></code></dt><dt class="spec value" id="val-pp_set"><a href="#val-pp_set" class="anchor"></a><code><span class="keyword">val</span> pp_set : Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec module" id="module-DSL"><a href="#module-DSL" class="anchor"></a><code><span class="keyword">module</span> <a href="DSL/index.html">DSL</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>DSL for logging messages. Opening this locally makes it easy to supply a number of semantic tags for a log event while using their values in the human-readable text. For example:</p></dd></dl></div></body></html>