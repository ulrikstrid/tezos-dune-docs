<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Tezt__Base (tezt.Tezt__Base)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">tezt</a> &#x00BB; Tezt__Base</nav><h1>Module <code>Tezt__Base</code></h1><p>Base functions.</p><nav class="toc"><ul><li><a href="#strings">Strings</a></li><li><a href="#concurrency-monad">Concurrency Monad</a></li><li><a href="#lists">Lists</a></li><li><a href="#regular-expressions">Regular Expressions</a></li><li><a href="#promises">Promises</a></li><li><a href="#input/output">Input/Output</a></li><li><a href="#common-structures">Common structures</a></li></ul></nav></header><section><header><h3 id="strings"><a href="#strings" class="anchor"></a>Strings</h3></header><dl><dt class="spec value" id="val-(//)"><a href="#val-(//)" class="anchor"></a><code><span class="keyword">val</span> (//) : string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string</code></dt><dd><p>Same as <code>Filename.concat</code>.</p></dd></dl><dl><dt class="spec value" id="val-sf"><a href="#val-sf" class="anchor"></a><code><span class="keyword">val</span> sf : <span><span>(<span class="type-var">'a</span>, unit, string)</span> Stdlib.format</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Same as <code>Printf.sprintf</code>.</p></dd></dl></section><section><header><h3 id="concurrency-monad"><a href="#concurrency-monad" class="anchor"></a>Concurrency Monad</h3></header><dl><dt class="spec value" id="val-let*"><a href="#val-let*" class="anchor"></a><code><span class="keyword">val</span> let* : <span><span class="type-var">'a</span> Lwt.t</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> Lwt.t</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> Lwt.t</span></code></dt><dd><p>Same as <code>Lwt.bind</code>.</p></dd></dl><dl><dt class="spec value" id="val-and*"><a href="#val-and*" class="anchor"></a><code><span class="keyword">val</span> and* : <span><span class="type-var">'a</span> Lwt.t</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> Lwt.t</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> Lwt.t</span></code></dt><dd><p>Same as <code>Lwt.both</code>.</p></dd></dl><dl><dt class="spec value" id="val-return"><a href="#val-return" class="anchor"></a><code><span class="keyword">val</span> return : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Lwt.t</span></code></dt><dd><p>Same as <code>Lwt.return</code>.</p></dd></dl><dl><dt class="spec value" id="val-unit"><a href="#val-unit" class="anchor"></a><code><span class="keyword">val</span> unit : <span>unit Lwt.t</span></code></dt><dd><p>Same as <code>Lwt.return_unit</code>.</p></dd></dl><dl><dt class="spec value" id="val-none"><a href="#val-none" class="anchor"></a><code><span class="keyword">val</span> none : <span><span><span class="type-var">'a</span> option</span> Lwt.t</span></code></dt><dd><p>Same as <code>Lwt.return_none</code>.</p></dd></dl><dl><dt class="spec value" id="val-some"><a href="#val-some" class="anchor"></a><code><span class="keyword">val</span> some : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> option</span> Lwt.t</span></code></dt><dd><p>Same as <code>Lwt.return_some</code>.</p></dd></dl></section><section><header><h3 id="lists"><a href="#lists" class="anchor"></a>Lists</h3></header><dl><dt class="spec value" id="val-range"><a href="#val-range" class="anchor"></a><code><span class="keyword">val</span> range : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span>int list</span></code></dt><dd><p>Make a list of all integers between two integers.</p><p>If the first argument is greater than the second argument, return the empty list.</p></dd></dl><dl><dt class="spec value" id="val-list_find_map"><a href="#val-list_find_map" class="anchor"></a><code><span class="keyword">val</span> list_find_map : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> option</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> option</span></code></dt><dd><p>Backport of <code>List.find_map</code> from OCaml 4.10.</p></dd></dl></section><section><header><h3 id="regular-expressions"><a href="#regular-expressions" class="anchor"></a>Regular Expressions</h3></header><dl><dt class="spec type" id="type-rex"><a href="#type-rex" class="anchor"></a><code><span class="keyword">type</span> rex</code></dt><dd><p>Compiled regular expressions.</p></dd></dl><dl><dt class="spec value" id="val-rex"><a href="#val-rex" class="anchor"></a><code><span class="keyword">val</span> rex : string <span>&#45;&gt;</span> <a href="index.html#type-rex">rex</a></code></dt><dd><p>Compile a regular expression using Perl syntax.</p></dd></dl><dl><dt class="spec value" id="val-show_rex"><a href="#val-show_rex" class="anchor"></a><code><span class="keyword">val</span> show_rex : <a href="index.html#type-rex">rex</a> <span>&#45;&gt;</span> string</code></dt><dd><p>Convert a regular expression to a string using Perl syntax.</p></dd></dl><dl><dt class="spec value" id="val-(=~)"><a href="#val-(=~)" class="anchor"></a><code><span class="keyword">val</span> (=~) : string <span>&#45;&gt;</span> <a href="index.html#type-rex">rex</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Test whether a string matches a regular expression.</p><p>Example: <code>&quot;number 1234 matches&quot; =~ rex &quot;\\d+&quot;</code></p></dd></dl><dl><dt class="spec value" id="val-(=~!)"><a href="#val-(=~!)" class="anchor"></a><code><span class="keyword">val</span> (=~!) : string <span>&#45;&gt;</span> <a href="index.html#type-rex">rex</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Negation of <code>=~</code>.</p></dd></dl><dl><dt class="spec value" id="val-(=~*)"><a href="#val-(=~*)" class="anchor"></a><code><span class="keyword">val</span> (=~*) : string <span>&#45;&gt;</span> <a href="index.html#type-rex">rex</a> <span>&#45;&gt;</span> <span>string option</span></code></dt><dd><p>Match a regular expression with one capture group.</p></dd></dl><dl><dt class="spec value" id="val-(=~**)"><a href="#val-(=~**)" class="anchor"></a><code><span class="keyword">val</span> (=~**) : string <span>&#45;&gt;</span> <a href="index.html#type-rex">rex</a> <span>&#45;&gt;</span> <span><span>(string * string)</span> option</span></code></dt><dd><p>Match a regular expression with two capture groups.</p></dd></dl><dl><dt class="spec value" id="val-replace_string"><a href="#val-replace_string" class="anchor"></a><code><span class="keyword">val</span> replace_string : <span>?&#8288;pos:int</span> <span>&#45;&gt;</span> <span>?&#8288;len:int</span> <span>&#45;&gt;</span> <span>?&#8288;all:bool</span> <span>&#45;&gt;</span> <a href="index.html#type-rex">rex</a> <span>&#45;&gt;</span> <span>by:string</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string</code></dt><dd><p><code>replace_string ~all rex ~by s</code> iterates on <code>s</code>, and replaces every occurrence of <code>rex</code> with <code>by</code>. If <code>all = false</code>, then only the first occurrence of <code>rex</code> is replaced.</p></dd></dl></section><section><header><h3 id="promises"><a href="#promises" class="anchor"></a>Promises</h3></header><dl><dt class="spec value" id="val-repeat"><a href="#val-repeat" class="anchor"></a><code><span class="keyword">val</span> repeat : int <span>&#45;&gt;</span> <span>(unit <span>&#45;&gt;</span> <span>unit Lwt.t</span>)</span> <span>&#45;&gt;</span> <span>unit Lwt.t</span></code></dt><dd><p>Repeat something a given amount of times.</p></dd></dl></section><section><header><h3 id="input/output"><a href="#input/output" class="anchor"></a>Input/Output</h3></header><dl><dt class="spec value" id="val-with_open_out"><a href="#val-with_open_out" class="anchor"></a><code><span class="keyword">val</span> with_open_out : string <span>&#45;&gt;</span> <span>(Stdlib.out_channel <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Open file, use function to write output then close the output. In case of error while writing, the channel is closed before raising the exception</p></dd></dl><dl><dt class="spec value" id="val-with_open_in"><a href="#val-with_open_in" class="anchor"></a><code><span class="keyword">val</span> with_open_in : string <span>&#45;&gt;</span> <span>(Stdlib.in_channel <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Open file, use function to read input then close the input. In case of error while reading, the channel is closed before raising the exception *</p></dd></dl><dl><dt class="spec value" id="val-read_file"><a href="#val-read_file" class="anchor"></a><code><span class="keyword">val</span> read_file : string <span>&#45;&gt;</span> <span>string Lwt.t</span></code></dt><dd><p><code>read_file filename</code> returns the full contents of file <code>filename</code></p></dd></dl></section><section><header><h3 id="common-structures"><a href="#common-structures" class="anchor"></a>Common structures</h3></header><div class="spec module" id="module-String_map"><a href="#module-String_map" class="anchor"></a><code><span class="keyword">module</span> String_map : Stdlib.Map.S <span class="keyword">with</span> <span class="keyword">type</span> <a href="index.html#module-String_map">String_map</a>.key = string</code></div><div class="spec module" id="module-String_set"><a href="#module-String_set" class="anchor"></a><code><span class="keyword">module</span> String_set : Stdlib.Set.S <span class="keyword">with</span> <span class="keyword">type</span> <a href="index.html#module-String_set">String_set</a>.elt = string</code></div></section></div></body></html>