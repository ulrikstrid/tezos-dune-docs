<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Make (tezos-protocol-functor-alpha.Tezos_protocol_alpha_functor.Functor.Make)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">tezos-protocol-functor-alpha</a> &#x00BB; <a href="../../index.html">Tezos_protocol_alpha_functor</a> &#x00BB; <a href="../index.html">Functor</a> &#x00BB; Make</nav><header class="odoc-preamble"><h1>Module <code><span>Functor.Make</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#parameters">Parameters</a></li><li><a href="#signature">Signature</a></li></ul></nav><div class="odoc-content"><h2 id="parameters"><a href="#parameters" class="anchor"></a>Parameters</h2><div class="odoc-spec"><div class="spec parameter" id="argument-1-Tezos_protocol_environment" class="anchored"><a href="#argument-1-Tezos_protocol_environment" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="argument-1-Tezos_protocol_environment/index.html">Tezos_protocol_environment</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><h2 id="signature"><a href="#signature" class="anchor"></a>Signature</h2><div class="odoc-spec"><div class="spec value" id="val-hash" class="anchored"><a href="#val-hash" class="anchor"></a><code><span><span class="keyword">val</span> hash : <a href="argument-1-Tezos_protocol_environment/Protocol_hash/index.html#type-t">Tezos_protocol_environment.Protocol_hash.t</a></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Misc" class="anchored"><a href="#module-Misc" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Misc/index.html">Misc</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Storage_description" class="anchored"><a href="#module-Storage_description" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Storage_description/index.html">Storage_description</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-State_hash" class="anchored"><a href="#module-State_hash" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="State_hash/index.html">State_hash</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Nonce_hash" class="anchored"><a href="#module-Nonce_hash" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Nonce_hash/index.html">Nonce_hash</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Script_expr_hash" class="anchored"><a href="#module-Script_expr_hash" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Script_expr_hash/index.html">Script_expr_hash</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Contract_hash" class="anchored"><a href="#module-Contract_hash" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Contract_hash/index.html">Contract_hash</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Blinded_public_key_hash" class="anchored"><a href="#module-Blinded_public_key_hash" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Blinded_public_key_hash/index.html">Blinded_public_key_hash</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Tez_repr" class="anchored"><a href="#module-Tez_repr" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Tez_repr/index.html">Tez_repr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Period_repr" class="anchored"><a href="#module-Period_repr" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Period_repr/index.html">Period_repr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Time_repr" class="anchored"><a href="#module-Time_repr" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Time_repr/index.html">Time_repr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Fixed_point_repr" class="anchored"><a href="#module-Fixed_point_repr" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Fixed_point_repr/index.html">Fixed_point_repr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Saturation_repr" class="anchored"><a href="#module-Saturation_repr" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Saturation_repr/index.html">Saturation_repr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>This module provides saturated arithmetic between 0 and 2^62 - 1.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Gas_limit_repr" class="anchored"><a href="#module-Gas_limit_repr" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Gas_limit_repr/index.html">Gas_limit_repr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Constants_repr" class="anchored"><a href="#module-Constants_repr" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Constants_repr/index.html">Constants_repr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Fitness_repr" class="anchored"><a href="#module-Fitness_repr" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Fitness_repr/index.html">Fitness_repr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Raw_level_repr" class="anchored"><a href="#module-Raw_level_repr" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Raw_level_repr/index.html">Raw_level_repr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Cycle_repr" class="anchored"><a href="#module-Cycle_repr" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Cycle_repr/index.html">Cycle_repr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Level_repr" class="anchored"><a href="#module-Level_repr" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Level_repr/index.html">Level_repr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Seed_repr" class="anchored"><a href="#module-Seed_repr" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Seed_repr/index.html">Seed_repr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Tezos Protocol Implementation - Random number generation</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Voting_period_repr" class="anchored"><a href="#module-Voting_period_repr" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Voting_period_repr/index.html">Voting_period_repr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Script_int_repr" class="anchored"><a href="#module-Script_int_repr" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Script_int_repr/index.html">Script_int_repr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Script_timestamp_repr" class="anchored"><a href="#module-Script_timestamp_repr" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Script_timestamp_repr/index.html">Script_timestamp_repr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Michelson_v1_primitives" class="anchored"><a href="#module-Michelson_v1_primitives" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Michelson_v1_primitives/index.html">Michelson_v1_primitives</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Script_repr" class="anchored"><a href="#module-Script_repr" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Script_repr/index.html">Script_repr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Contract_repr" class="anchored"><a href="#module-Contract_repr" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Contract_repr/index.html">Contract_repr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Roll_repr" class="anchored"><a href="#module-Roll_repr" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Roll_repr/index.html">Roll_repr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Vote_repr" class="anchored"><a href="#module-Vote_repr" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Vote_repr/index.html">Vote_repr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Block_header_repr" class="anchored"><a href="#module-Block_header_repr" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Block_header_repr/index.html">Block_header_repr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Operation_repr" class="anchored"><a href="#module-Operation_repr" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Operation_repr/index.html">Operation_repr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Manager_repr" class="anchored"><a href="#module-Manager_repr" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Manager_repr/index.html">Manager_repr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Commitment_repr" class="anchored"><a href="#module-Commitment_repr" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Commitment_repr/index.html">Commitment_repr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Parameters_repr" class="anchored"><a href="#module-Parameters_repr" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Parameters_repr/index.html">Parameters_repr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Sapling_repr" class="anchored"><a href="#module-Sapling_repr" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Sapling_repr/index.html">Sapling_repr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Lazy_storage_kind" class="anchored"><a href="#module-Lazy_storage_kind" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Lazy_storage_kind/index.html">Lazy_storage_kind</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Lazy_storage offers a unified interface for specific Michelson datatype that behave somewhat lazily, because they are intended to be quite big. Instead of serializing/deserializing the whole value to/from the storage, only an identifier is used. The identifier acts like a pointer. When using the value in a Michelson script, some part of it may be read from the storage, and a lightweight diff is computed. The diff is effectively applied to the storage at the end of the execution.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Receipt_repr" class="anchored"><a href="#module-Receipt_repr" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Receipt_repr/index.html">Receipt_repr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Migration_repr" class="anchored"><a href="#module-Migration_repr" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Migration_repr/index.html">Migration_repr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Raw_context_intf" class="anchored"><a href="#module-Raw_context_intf" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Raw_context_intf/index.html">Raw_context_intf</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>All context manipulation functions. This signature is included as-is for direct context accesses, and used in <a href="Storage_functors/index.html"><code>Storage_functors</code></a> to provide restricted views to the context.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Raw_context" class="anchored"><a href="#module-Raw_context" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Raw_context/index.html">Raw_context</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Storage_costs" class="anchored"><a href="#module-Storage_costs" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Storage_costs/index.html">Storage_costs</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Storage_sigs" class="anchored"><a href="#module-Storage_sigs" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Storage_sigs/index.html">Storage_sigs</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Storage_functors" class="anchored"><a href="#module-Storage_functors" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Storage_functors/index.html">Storage_functors</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Tezos Protocol Implementation - Typed storage builders.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Storage" class="anchored"><a href="#module-Storage" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Storage/index.html">Storage</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Tezos Protocol Implementation - Typed storage</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Constants_storage" class="anchored"><a href="#module-Constants_storage" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Constants_storage/index.html">Constants_storage</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Level_storage" class="anchored"><a href="#module-Level_storage" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Level_storage/index.html">Level_storage</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Nonce_storage" class="anchored"><a href="#module-Nonce_storage" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Nonce_storage/index.html">Nonce_storage</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Seed_storage" class="anchored"><a href="#module-Seed_storage" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Seed_storage/index.html">Seed_storage</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Roll_storage" class="anchored"><a href="#module-Roll_storage" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Roll_storage/index.html">Roll_storage</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Basic roll manipulation.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Delegate_storage" class="anchored"><a href="#module-Delegate_storage" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Delegate_storage/index.html">Delegate_storage</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Sapling_storage" class="anchored"><a href="#module-Sapling_storage" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Sapling_storage/index.html">Sapling_storage</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Lazy_storage_diff" class="anchored"><a href="#module-Lazy_storage_diff" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Lazy_storage_diff/index.html">Lazy_storage_diff</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>See <code>Lazy_storage_kind</code> for an introduction on lazy storage.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Contract_storage" class="anchored"><a href="#module-Contract_storage" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Contract_storage/index.html">Contract_storage</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Bootstrap_storage" class="anchored"><a href="#module-Bootstrap_storage" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Bootstrap_storage/index.html">Bootstrap_storage</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Fitness_storage" class="anchored"><a href="#module-Fitness_storage" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Fitness_storage/index.html">Fitness_storage</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Voting_period_storage" class="anchored"><a href="#module-Voting_period_storage" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Voting_period_storage/index.html">Voting_period_storage</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Vote_storage" class="anchored"><a href="#module-Vote_storage" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Vote_storage/index.html">Vote_storage</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Manages all the voting related storage in Storage.Vote.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Commitment_storage" class="anchored"><a href="#module-Commitment_storage" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Commitment_storage/index.html">Commitment_storage</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Fees_storage" class="anchored"><a href="#module-Fees_storage" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Fees_storage/index.html">Fees_storage</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Liquidity_baking_repr" class="anchored"><a href="#module-Liquidity_baking_repr" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Liquidity_baking_repr/index.html">Liquidity_baking_repr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Liquidity_baking_cpmm" class="anchored"><a href="#module-Liquidity_baking_cpmm" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Liquidity_baking_cpmm/index.html">Liquidity_baking_cpmm</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Liquidity_baking_lqt" class="anchored"><a href="#module-Liquidity_baking_lqt" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Liquidity_baking_lqt/index.html">Liquidity_baking_lqt</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Liquidity_baking_migration" class="anchored"><a href="#module-Liquidity_baking_migration" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Liquidity_baking_migration/index.html">Liquidity_baking_migration</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Init_storage" class="anchored"><a href="#module-Init_storage" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Init_storage/index.html">Init_storage</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Sapling_validator" class="anchored"><a href="#module-Sapling_validator" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Sapling_validator/index.html">Sapling_validator</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Alpha_context" class="anchored"><a href="#module-Alpha_context" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Alpha_context/index.html">Alpha_context</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Script_typed_ir" class="anchored"><a href="#module-Script_typed_ir" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Script_typed_ir/index.html">Script_typed_ir</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Script_tc_errors" class="anchored"><a href="#module-Script_tc_errors" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Script_tc_errors/index.html">Script_tc_errors</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Michelson_v1_gas" class="anchored"><a href="#module-Michelson_v1_gas" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Michelson_v1_gas/index.html">Michelson_v1_gas</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Script_ir_annot" class="anchored"><a href="#module-Script_ir_annot" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Script_ir_annot/index.html">Script_ir_annot</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Default annotations</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Script_ir_translator" class="anchored"><a href="#module-Script_ir_translator" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Script_ir_translator/index.html">Script_ir_translator</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Script_tc_errors_registration" class="anchored"><a href="#module-Script_tc_errors_registration" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Script_tc_errors_registration/index.html">Script_tc_errors_registration</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Script_interpreter_defs" class="anchored"><a href="#module-Script_interpreter_defs" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Script_interpreter_defs/index.html">Script_interpreter_defs</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Script_interpreter" class="anchored"><a href="#module-Script_interpreter" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Script_interpreter/index.html">Script_interpreter</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>This is the Michelson interpreter.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Baking" class="anchored"><a href="#module-Baking" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Baking/index.html">Baking</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Amendment" class="anchored"><a href="#module-Amendment" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Amendment/index.html">Amendment</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Only delegates with at least one roll take part in the amendment procedure. It works as follows:</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Apply_results" class="anchored"><a href="#module-Apply_results" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Apply_results/index.html">Apply_results</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Result of applying an operation, can be used for experimenting with protocol updates, by clients to print out a summary of the operation at pre-injection simulation and at confirmation time, and by block explorers.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Apply" class="anchored"><a href="#module-Apply" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Apply/index.html">Apply</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Services_registration" class="anchored"><a href="#module-Services_registration" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Services_registration/index.html">Services_registration</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Constants_services" class="anchored"><a href="#module-Constants_services" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Constants_services/index.html">Constants_services</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Sapling_services" class="anchored"><a href="#module-Sapling_services" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Sapling_services/index.html">Sapling_services</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Contract_services" class="anchored"><a href="#module-Contract_services" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Contract_services/index.html">Contract_services</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Delegate_services" class="anchored"><a href="#module-Delegate_services" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Delegate_services/index.html">Delegate_services</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Voting_services" class="anchored"><a href="#module-Voting_services" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Voting_services/index.html">Voting_services</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Alpha_services" class="anchored"><a href="#module-Alpha_services" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Alpha_services/index.html">Alpha_services</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Main" class="anchored"><a href="#module-Main" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Main/index.html">Main</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Tezos Protocol Implementation - Protocol Signature Instance</p></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <span class="keyword">struct</span> <span class="keyword">include</span> <a href="Main/index.html">Main</a> <span class="keyword">end</span></span></code></summary><div class="odoc-spec"><div class="spec type" id="type-validation_mode" class="anchored"><a href="#type-validation_mode" class="anchor"></a><code><span><span class="keyword">type</span> validation_mode</span><span> = <a href="Main/index.html#type-validation_mode">Main.validation_mode</a></span><span> = </span></code><table><tr id="type-validation_mode.Application" class="anchored"><td class="def variant constructor"><a href="#type-validation_mode.Application" class="anchor"></a><code><span>| </span><span><span class="constructor">Application</span> <span class="keyword">of</span> </span><span>{</span></code><table><tr id="type-validation_mode.block_header" class="anchored"><td class="def record field"><a href="#type-validation_mode.block_header" class="anchor"></a><code><span>block_header : <a href="Alpha_context/Block_header/index.html#type-t">Alpha_context.Block_header.t</a>;</span></code></td></tr><tr id="type-validation_mode.baker" class="anchored"><td class="def record field"><a href="#type-validation_mode.baker" class="anchor"></a><code><span>baker : <a href="Alpha_context/index.html#type-public_key_hash">Alpha_context.public_key_hash</a>;</span></code></td></tr></table><code><span>}</span></code></td></tr><tr id="type-validation_mode.Partial_application" class="anchored"><td class="def variant constructor"><a href="#type-validation_mode.Partial_application" class="anchor"></a><code><span>| </span><span><span class="constructor">Partial_application</span> <span class="keyword">of</span> </span><span>{</span></code><table><tr id="type-validation_mode.block_header" class="anchored"><td class="def record field"><a href="#type-validation_mode.block_header" class="anchor"></a><code><span>block_header : <a href="Alpha_context/Block_header/index.html#type-t">Alpha_context.Block_header.t</a>;</span></code></td></tr><tr id="type-validation_mode.baker" class="anchored"><td class="def record field"><a href="#type-validation_mode.baker" class="anchor"></a><code><span>baker : <a href="Alpha_context/index.html#type-public_key_hash">Alpha_context.public_key_hash</a>;</span></code></td></tr></table><code><span>}</span></code></td></tr><tr id="type-validation_mode.Partial_construction" class="anchored"><td class="def variant constructor"><a href="#type-validation_mode.Partial_construction" class="anchor"></a><code><span>| </span><span><span class="constructor">Partial_construction</span> <span class="keyword">of</span> </span><span>{</span></code><table><tr id="type-validation_mode.predecessor" class="anchored"><td class="def record field"><a href="#type-validation_mode.predecessor" class="anchor"></a><code><span>predecessor : <a href="argument-1-Tezos_protocol_environment/Block_hash/index.html#type-t">Tezos_protocol_environment.Block_hash.t</a>;</span></code></td></tr></table><code><span>}</span></code></td></tr><tr id="type-validation_mode.Full_construction" class="anchored"><td class="def variant constructor"><a href="#type-validation_mode.Full_construction" class="anchor"></a><code><span>| </span><span><span class="constructor">Full_construction</span> <span class="keyword">of</span> </span><span>{</span></code><table><tr id="type-validation_mode.predecessor" class="anchored"><td class="def record field"><a href="#type-validation_mode.predecessor" class="anchor"></a><code><span>predecessor : <a href="argument-1-Tezos_protocol_environment/Block_hash/index.html#type-t">Tezos_protocol_environment.Block_hash.t</a>;</span></code></td></tr><tr id="type-validation_mode.protocol_data" class="anchored"><td class="def record field"><a href="#type-validation_mode.protocol_data" class="anchor"></a><code><span>protocol_data : <a href="Alpha_context/Block_header/index.html#type-contents">Alpha_context.Block_header.contents</a>;</span></code></td></tr><tr id="type-validation_mode.baker" class="anchored"><td class="def record field"><a href="#type-validation_mode.baker" class="anchor"></a><code><span>baker : <a href="Alpha_context/index.html#type-public_key_hash">Alpha_context.public_key_hash</a>;</span></code></td></tr></table><code><span>}</span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-validation_state" class="anchored"><a href="#type-validation_state" class="anchor"></a><code><span><span class="keyword">type</span> validation_state</span><span> = <a href="Main/index.html#type-validation_state">Main.validation_state</a></span><span> = </span><span>{</span></code><table><tr id="type-validation_state.mode" class="anchored"><td class="def record field"><a href="#type-validation_state.mode" class="anchor"></a><code><span>mode : <a href="#type-validation_mode">validation_mode</a>;</span></code></td></tr><tr id="type-validation_state.chain_id" class="anchored"><td class="def record field"><a href="#type-validation_state.chain_id" class="anchor"></a><code><span>chain_id : <a href="argument-1-Tezos_protocol_environment/Chain_id/index.html#type-t">Tezos_protocol_environment.Chain_id.t</a>;</span></code></td></tr><tr id="type-validation_state.ctxt" class="anchored"><td class="def record field"><a href="#type-validation_state.ctxt" class="anchor"></a><code><span>ctxt : <a href="Alpha_context/index.html#type-t">Alpha_context.t</a>;</span></code></td></tr><tr id="type-validation_state.op_count" class="anchored"><td class="def record field"><a href="#type-validation_state.op_count" class="anchor"></a><code><span>op_count : int;</span></code></td></tr><tr id="type-validation_state.migration_balance_updates" class="anchored"><td class="def record field"><a href="#type-validation_state.migration_balance_updates" class="anchor"></a><code><span>migration_balance_updates : <a href="Alpha_context/Receipt/index.html#type-balance_updates">Alpha_context.Receipt.balance_updates</a>;</span></code></td></tr><tr id="type-validation_state.liquidity_baking_escape_ema" class="anchored"><td class="def record field"><a href="#type-validation_state.liquidity_baking_escape_ema" class="anchor"></a><code><span>liquidity_baking_escape_ema : <a href="argument-1-Tezos_protocol_environment/Int32/index.html#type-t">Tezos_protocol_environment.Int32.t</a>;</span></code></td></tr><tr id="type-validation_state.implicit_operations_results" class="anchored"><td class="def record field"><a href="#type-validation_state.implicit_operations_results" class="anchor"></a><code><span>implicit_operations_results : <span><a href="Apply_results/index.html#type-packed_successful_manager_operation_result">Apply_results.packed_successful_manager_operation_result</a> list</span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-operation_data" class="anchored"><a href="#type-operation_data" class="anchor"></a><code><span><span class="keyword">type</span> operation_data</span><span> = <a href="Alpha_context/index.html#type-packed_protocol_data">Alpha_context.packed_protocol_data</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-operation" class="anchored"><a href="#type-operation" class="anchor"></a><code><span><span class="keyword">type</span> operation</span><span> = <a href="Alpha_context/index.html#type-packed_operation">Alpha_context.packed_operation</a></span><span> = </span><span>{</span></code><table><tr id="type-operation.shell" class="anchored"><td class="def record field"><a href="#type-operation.shell" class="anchor"></a><code><span>shell : <a href="argument-1-Tezos_protocol_environment/Operation/index.html#type-shell_header">Tezos_protocol_environment.Operation.shell_header</a>;</span></code></td></tr><tr id="type-operation.protocol_data" class="anchored"><td class="def record field"><a href="#type-operation.protocol_data" class="anchor"></a><code><span>protocol_data : <a href="#type-operation_data">operation_data</a>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="argument-1-Tezos_protocol_environment/Updater/module-type-PROTOCOL/index.html">Tezos_protocol_environment.Updater.PROTOCOL</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="argument-1-Tezos_protocol_environment/Updater/module-type-PROTOCOL/index.html#type-block_header_data">block_header_data</a> = <a href="Alpha_context/Block_header/index.html#type-protocol_data">Alpha_context.Block_header.protocol_data</a></span> <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="argument-1-Tezos_protocol_environment/Updater/module-type-PROTOCOL/index.html#type-block_header_metadata">block_header_metadata</a> = <a href="Apply_results/index.html#type-block_metadata">Apply_results.block_metadata</a></span> <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="argument-1-Tezos_protocol_environment/Updater/module-type-PROTOCOL/index.html#type-block_header">block_header</a> = <a href="Alpha_context/Block_header/index.html#type-t">Alpha_context.Block_header.t</a></span> <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="argument-1-Tezos_protocol_environment/Updater/module-type-PROTOCOL/index.html#type-operation_data">operation_data</a> := <a href="#type-operation_data">operation_data</a></span> <span class="keyword">and</span> <span><span class="keyword">type</span>
<a href="argument-1-Tezos_protocol_environment/Updater/module-type-PROTOCOL/index.html#type-operation_receipt">operation_receipt</a> = <a href="Apply_results/index.html#type-packed_operation_metadata">Apply_results.packed_operation_metadata</a></span> <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="argument-1-Tezos_protocol_environment/Updater/module-type-PROTOCOL/index.html#type-operation">operation</a> := <a href="#type-operation">operation</a></span> <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="argument-1-Tezos_protocol_environment/Updater/module-type-PROTOCOL/index.html#type-validation_state">validation_state</a> := <a href="#type-validation_state">validation_state</a></span></span></code></summary><div class="odoc-spec"><div class="spec value" id="val-max_block_length" class="anchored"><a href="#val-max_block_length" class="anchor"></a><code><span><span class="keyword">val</span> max_block_length : int</span></code></div><div class="spec-doc"><p>The maximum size of a block header in bytes.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-max_operation_data_length" class="anchored"><a href="#val-max_operation_data_length" class="anchor"></a><code><span><span class="keyword">val</span> max_operation_data_length : int</span></code></div><div class="spec-doc"><p>The maximum size of an operation in bytes.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-validation_passes" class="anchored"><a href="#val-validation_passes" class="anchor"></a><code><span><span class="keyword">val</span> validation_passes : <span><a href="argument-1-Tezos_protocol_environment/Updater/index.html#type-quota">Tezos_protocol_environment.Updater.quota</a> list</span></span></code></div><div class="spec-doc"><p>The number of validation passes (length of the list) and the operation's quota for each pass.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-block_header_data" class="anchored"><a href="#type-block_header_data" class="anchor"></a><code><span><span class="keyword">type</span> block_header_data</span><span> = <a href="Alpha_context/Block_header/index.html#type-protocol_data">Alpha_context.Block_header.protocol_data</a></span></code></div><div class="spec-doc"><p>The version specific type of blocks.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-block_header_data_encoding" class="anchored"><a href="#val-block_header_data_encoding" class="anchor"></a><code><span><span class="keyword">val</span> block_header_data_encoding : <span><a href="#type-block_header_data">block_header_data</a> <a href="argument-1-Tezos_protocol_environment/Data_encoding/index.html#type-t">Tezos_protocol_environment.Data_encoding.t</a></span></span></code></div><div class="spec-doc"><p>Encoding for version specific part of block headers.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-block_header" class="anchored"><a href="#type-block_header" class="anchor"></a><code><span><span class="keyword">type</span> block_header</span><span> = <a href="Alpha_context/Block_header/index.html#type-t">Alpha_context.Block_header.t</a></span><span> = </span><span>{</span></code><table><tr id="type-block_header.shell" class="anchored"><td class="def record field"><a href="#type-block_header.shell" class="anchor"></a><code><span>shell : <a href="argument-1-Tezos_protocol_environment/Block_header/index.html#type-shell_header">Tezos_protocol_environment.Block_header.shell_header</a>;</span></code></td></tr><tr id="type-block_header.protocol_data" class="anchored"><td class="def record field"><a href="#type-block_header.protocol_data" class="anchor"></a><code><span>protocol_data : <a href="#type-block_header_data">block_header_data</a>;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>A fully parsed block header.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-block_header_metadata" class="anchored"><a href="#type-block_header_metadata" class="anchor"></a><code><span><span class="keyword">type</span> block_header_metadata</span><span> = <a href="Apply_results/index.html#type-block_metadata">Apply_results.block_metadata</a></span></code></div><div class="spec-doc"><p>Version-specific side information computed by the protocol during the validation of a block. Should not include information about the evaluation of operations which is handled separately by <code>operation_metadata</code>. To be used as an execution trace by tools (client, indexer). Not necessary for validation.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-block_header_metadata_encoding" class="anchored"><a href="#val-block_header_metadata_encoding" class="anchor"></a><code><span><span class="keyword">val</span> block_header_metadata_encoding : <span><a href="#type-block_header_metadata">block_header_metadata</a> <a href="argument-1-Tezos_protocol_environment/Data_encoding/index.html#type-t">Tezos_protocol_environment.Data_encoding.t</a></span></span></code></div><div class="spec-doc"><p>Encoding for version-specific block metadata.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-operation_receipt" class="anchored"><a href="#type-operation_receipt" class="anchor"></a><code><span><span class="keyword">type</span> operation_receipt</span><span> = <a href="Apply_results/index.html#type-packed_operation_metadata">Apply_results.packed_operation_metadata</a></span></code></div><div class="spec-doc"><p>Version-specific side information computed by the protocol during the validation of each operation, to be used conjointly with <a href="#type-block_header_metadata"><code>block_header_metadata</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-operation_data_encoding" class="anchored"><a href="#val-operation_data_encoding" class="anchor"></a><code><span><span class="keyword">val</span> operation_data_encoding : <span><a href="#type-operation_data">operation_data</a> <a href="argument-1-Tezos_protocol_environment/Data_encoding/index.html#type-t">Tezos_protocol_environment.Data_encoding.t</a></span></span></code></div><div class="spec-doc"><p>Encoding for version-specific operation data.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-operation_receipt_encoding" class="anchored"><a href="#val-operation_receipt_encoding" class="anchor"></a><code><span><span class="keyword">val</span> operation_receipt_encoding : <span><a href="#type-operation_receipt">operation_receipt</a> <a href="argument-1-Tezos_protocol_environment/Data_encoding/index.html#type-t">Tezos_protocol_environment.Data_encoding.t</a></span></span></code></div><div class="spec-doc"><p>Encoding for version-specific operation receipts.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-operation_data_and_receipt_encoding" class="anchored"><a href="#val-operation_data_and_receipt_encoding" class="anchor"></a><code><span><span class="keyword">val</span> operation_data_and_receipt_encoding : <span><span>(<a href="#type-operation_data">operation_data</a> * <a href="#type-operation_receipt">operation_receipt</a>)</span> <a href="argument-1-Tezos_protocol_environment/Data_encoding/index.html#type-t">Tezos_protocol_environment.Data_encoding.t</a></span></span></code></div><div class="spec-doc"><p>Encoding that mixes an operation data and its receipt.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-acceptable_passes" class="anchored"><a href="#val-acceptable_passes" class="anchor"></a><code><span><span class="keyword">val</span> acceptable_passes : <span><a href="#type-operation">operation</a> <span class="arrow">&#45;&gt;</span></span> <span>int list</span></span></code></div><div class="spec-doc"><p>The Validation passes in which an operation can appear. For instance <code>[0]</code> if it only belongs to the first pass. An answer of <code>[]</code> means that the operation is ill-formed and cannot be included at all.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-compare_operations" class="anchored"><a href="#val-compare_operations" class="anchor"></a><code><span><span class="keyword">val</span> compare_operations : <span><a href="#type-operation">operation</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-operation">operation</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Basic ordering of operations. <code>compare_operations op1 op2</code> means that <code>op1</code> should appear before <code>op2</code> in a block.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-current_context" class="anchored"><a href="#val-current_context" class="anchor"></a><code><span><span class="keyword">val</span> current_context : <span><a href="#type-validation_state">validation_state</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="argument-1-Tezos_protocol_environment/Context/index.html#type-t">Tezos_protocol_environment.Context.t</a> <a href="argument-1-Tezos_protocol_environment/Error_monad/index.html#type-tzresult">Tezos_protocol_environment.Error_monad.tzresult</a></span> <a href="argument-1-Tezos_protocol_environment/Lwt/index.html#type-t">Tezos_protocol_environment.Lwt.t</a></span></span></code></div><div class="spec-doc"><p>Access the context at a given validation step.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-begin_partial_application" class="anchored"><a href="#val-begin_partial_application" class="anchor"></a><code><span><span class="keyword">val</span> begin_partial_application : <span>chain_id:<a href="argument-1-Tezos_protocol_environment/Chain_id/index.html#type-t">Tezos_protocol_environment.Chain_id.t</a> <span class="arrow">&#45;&gt;</span></span> <span>ancestor_context:<a href="argument-1-Tezos_protocol_environment/Context/index.html#type-t">Tezos_protocol_environment.Context.t</a> <span class="arrow">&#45;&gt;</span></span>
<span>predecessor_timestamp:<a href="argument-1-Tezos_protocol_environment/Time/index.html#type-t">Tezos_protocol_environment.Time.t</a> <span class="arrow">&#45;&gt;</span></span> <span>predecessor_fitness:<a href="argument-1-Tezos_protocol_environment/Fitness/index.html#type-t">Tezos_protocol_environment.Fitness.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-block_header">block_header</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-validation_state">validation_state</a> <a href="argument-1-Tezos_protocol_environment/Error_monad/index.html#type-tzresult">Tezos_protocol_environment.Error_monad.tzresult</a></span> <a href="argument-1-Tezos_protocol_environment/Lwt/index.html#type-t">Tezos_protocol_environment.Lwt.t</a></span></span></code></div><div class="spec-doc"><p>Checks that a block is well formed in a given context. This function should run quickly, as its main use is to reject bad blocks from the chain as early as possible. The input context is the one resulting of an ancestor block of same protocol version. This ancestor of the current head is guaranteed to be more recent than `last_allowed_fork_level`.</p><p>The resulting `validation_state` will be used for multi-pass validation.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-begin_application" class="anchored"><a href="#val-begin_application" class="anchor"></a><code><span><span class="keyword">val</span> begin_application : <span>chain_id:<a href="argument-1-Tezos_protocol_environment/Chain_id/index.html#type-t">Tezos_protocol_environment.Chain_id.t</a> <span class="arrow">&#45;&gt;</span></span> <span>predecessor_context:<a href="argument-1-Tezos_protocol_environment/Context/index.html#type-t">Tezos_protocol_environment.Context.t</a> <span class="arrow">&#45;&gt;</span></span>
<span>predecessor_timestamp:<a href="argument-1-Tezos_protocol_environment/Time/index.html#type-t">Tezos_protocol_environment.Time.t</a> <span class="arrow">&#45;&gt;</span></span> <span>predecessor_fitness:<a href="argument-1-Tezos_protocol_environment/Fitness/index.html#type-t">Tezos_protocol_environment.Fitness.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-block_header">block_header</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-validation_state">validation_state</a> <a href="argument-1-Tezos_protocol_environment/Error_monad/index.html#type-tzresult">Tezos_protocol_environment.Error_monad.tzresult</a></span> <a href="argument-1-Tezos_protocol_environment/Lwt/index.html#type-t">Tezos_protocol_environment.Lwt.t</a></span></span></code></div><div class="spec-doc"><p>The first step in a block validation sequence. Initializes a validation context for validating a block. Takes as argument the <code>Block_header</code>.t to initialize the context for this block. The function <code>precheck_block</code> may not have been called before <code>begin_application</code>, so all the check performed by the former must be repeated in the latter.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-begin_construction" class="anchored"><a href="#val-begin_construction" class="anchor"></a><code><span><span class="keyword">val</span> begin_construction : <span>chain_id:<a href="argument-1-Tezos_protocol_environment/Chain_id/index.html#type-t">Tezos_protocol_environment.Chain_id.t</a> <span class="arrow">&#45;&gt;</span></span> <span>predecessor_context:<a href="argument-1-Tezos_protocol_environment/Context/index.html#type-t">Tezos_protocol_environment.Context.t</a> <span class="arrow">&#45;&gt;</span></span>
<span>predecessor_timestamp:<a href="argument-1-Tezos_protocol_environment/Time/index.html#type-t">Tezos_protocol_environment.Time.t</a> <span class="arrow">&#45;&gt;</span></span> <span>predecessor_level:<a href="argument-1-Tezos_protocol_environment/Int32/index.html#type-t">Tezos_protocol_environment.Int32.t</a> <span class="arrow">&#45;&gt;</span></span> <span>predecessor_fitness:<a href="argument-1-Tezos_protocol_environment/Fitness/index.html#type-t">Tezos_protocol_environment.Fitness.t</a> <span class="arrow">&#45;&gt;</span></span>
<span>predecessor:<a href="argument-1-Tezos_protocol_environment/Block_hash/index.html#type-t">Tezos_protocol_environment.Block_hash.t</a> <span class="arrow">&#45;&gt;</span></span> <span>timestamp:<a href="argument-1-Tezos_protocol_environment/Time/index.html#type-t">Tezos_protocol_environment.Time.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?protocol_data:<a href="#type-block_header_data">block_header_data</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-validation_state">validation_state</a> <a href="argument-1-Tezos_protocol_environment/Error_monad/index.html#type-tzresult">Tezos_protocol_environment.Error_monad.tzresult</a></span> <a href="argument-1-Tezos_protocol_environment/Lwt/index.html#type-t">Tezos_protocol_environment.Lwt.t</a></span></span></code></div><div class="spec-doc"><p>Initializes a validation context for constructing a new block (as opposed to validating an existing block). When the <code>protocol_data</code> argument is specified, it should contains a 'prototype' of a the protocol specific part of a block header, and the function should produce the exact same effect on the context than would produce the validation of a block containing an &quot;equivalent&quot; (but complete) header. For instance, if the block header usually includes a signature, the header provided to <a href="#val-begin_construction"><code>begin_construction</code></a> should includes a faked signature.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-apply_operation" class="anchored"><a href="#val-apply_operation" class="anchor"></a><code><span><span class="keyword">val</span> apply_operation : <span><a href="#type-validation_state">validation_state</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-operation">operation</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<a href="#type-validation_state">validation_state</a> * <a href="#type-operation_receipt">operation_receipt</a>)</span> <a href="argument-1-Tezos_protocol_environment/Error_monad/index.html#type-tzresult">Tezos_protocol_environment.Error_monad.tzresult</a></span> <a href="argument-1-Tezos_protocol_environment/Lwt/index.html#type-t">Tezos_protocol_environment.Lwt.t</a></span></span></code></div><div class="spec-doc"><p>Called after <a href="#val-begin_application"><code>begin_application</code></a> (or <a href="#val-begin_construction"><code>begin_construction</code></a>) and before <a href="#val-finalize_block"><code>finalize_block</code></a>, with each operation in the block.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-finalize_block" class="anchored"><a href="#val-finalize_block" class="anchor"></a><code><span><span class="keyword">val</span> finalize_block : <span><a href="#type-validation_state">validation_state</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<a href="argument-1-Tezos_protocol_environment/Updater/index.html#type-validation_result">Tezos_protocol_environment.Updater.validation_result</a> * <a href="#type-block_header_metadata">block_header_metadata</a>)</span> <a href="argument-1-Tezos_protocol_environment/Error_monad/index.html#type-tzresult">Tezos_protocol_environment.Error_monad.tzresult</a></span> <a href="argument-1-Tezos_protocol_environment/Lwt/index.html#type-t">Tezos_protocol_environment.Lwt.t</a></span></span></code></div><div class="spec-doc"><p>The last step in a block validation sequence. It produces the context that will be used as input for the validation of its successor block candidates.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rpc_services" class="anchored"><a href="#val-rpc_services" class="anchor"></a><code><span><span class="keyword">val</span> rpc_services : <span><a href="argument-1-Tezos_protocol_environment/Updater/index.html#type-rpc_context">Tezos_protocol_environment.Updater.rpc_context</a> <a href="argument-1-Tezos_protocol_environment/RPC_directory/index.html#type-t">Tezos_protocol_environment.RPC_directory.t</a></span></span></code></div><div class="spec-doc"><p>The list of remote procedures exported by this implementation</p></div></div><div class="odoc-spec"><div class="spec value" id="val-init" class="anchored"><a href="#val-init" class="anchor"></a><code><span><span class="keyword">val</span> init : <span><a href="argument-1-Tezos_protocol_environment/Context/index.html#type-t">Tezos_protocol_environment.Context.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="argument-1-Tezos_protocol_environment/Block_header/index.html#type-shell_header">Tezos_protocol_environment.Block_header.shell_header</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="argument-1-Tezos_protocol_environment/Updater/index.html#type-validation_result">Tezos_protocol_environment.Updater.validation_result</a> <a href="argument-1-Tezos_protocol_environment/Error_monad/index.html#type-tzresult">Tezos_protocol_environment.Error_monad.tzresult</a></span> <a href="argument-1-Tezos_protocol_environment/Lwt/index.html#type-t">Tezos_protocol_environment.Lwt.t</a></span></span></code></div><div class="spec-doc"><p>Initialize the context (or upgrade the context after a protocol amendment). This function receives the context resulting of the application of a block that triggered the amendment. It also receives the header of the block that triggered the amendment.</p></div></div></details></div></details></div></div></body></html>